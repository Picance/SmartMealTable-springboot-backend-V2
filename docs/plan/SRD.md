# SRD 기능 요구사항

**알뜰식탁 (SmartMealTable) 앱 기능 요구사항**
이 문서는 '알뜰식탁' 모바일 애플리케이션 개발에 필요한 기능적 요구사항을 정의합니다. 

## 알뜰식탁(SmartMealTable) 프로젝트 기능 요구사항: 사용자 인증
**1. 공통 요구사항**
* 사용자는 이메일 가입, 이메일 로그인, 소셜 로그인(카카오, 구글) 기능을 통해 앱에 접근할 수 있다.
* 모든 입력 필드에는 적절한 플레이스홀더(placeholder) 텍스트가 표시되어야 한다. (예: "이메일을 입력해주세요")
* 비밀번호 입력 필드는 기본적으로 마스킹 처리되며, 사용자가 원할 경우 비밀번호를 확인할 수 있는 토글 아이콘을 제공해야 한다.
⠀
**2. 최초 진입 및 로그인 옵션 화면 (Splash/Login Option Screen)**
* **[REQ-AUTH-001]** 앱 실행 시, "알뜰식탁" 로고가 포함된 스플래시 화면이 표시된다.
* **[REQ-AUTH-002]** 스플래시 화면 이후, 사용자에게 다음과 같은 인증 옵션을 제공한다.
  * 이메일로 로그인
  * 카카오로 로그인
  * 구글로 로그인
  * 회원가입
* **[REQ-AUTH-003]** '회원가입' 버튼 선택 시, '이메일 회원가입' 화면으로 이동한다.
* **[REQ-AUTH-004]** '이메일로 로그인' 버튼 선택 시, '이메일 로그인' 화면으로 이동한다.

⠀
**3. 이메일 기반 회원가입 (Email Sign-up)**
* **[REQ-AUTH-101]** 회원가입 화면은 이름, 이메일, 비밀번호, 비밀번호 확인 입력 필드와 '다음' 버튼으로 구성된다.
* **[REQ-AUTH-102]** **(이름)**: 사용자는 자신의 이름을 입력할 수 있다.
* **[REQ-AUTH-103]** **(이메일)**: 사용자는 유효한 이메일 주소를 입력해야 한다.
  * **[REQ-AUTH-103a]** 시스템은 입력된 이메일의 유효성(형식, 중복 여부)을 실시간으로 검증하고 결과를 사용자에게 표시해야 한다. (예: "사용 가능한 이메일입니다.")
* **[REQ-AUTH-104]** **(비밀번호)**: 사용자는 비밀번호를 설정할 수 있다.
  * **[REQ-AUTH-104a]** 비밀번호는 보안 강도 규칙(예: 최소 8자, 영문/숫자/특수문자 조합)을 따라야 한다.
  * **[REQ-AUTH-104b]** '비밀번호 확인' 필드의 값은 '비밀번호' 필드의 값과 일치해야 한다.
* **[REQ-AUTH-105]** 모든 필수 정보가 유효하게 입력되었을 때 '다음' 버튼이 활성화된다.
* **[REQ-AUTH-106]** 화면 하단에 '로그인' 화면으로 이동할 수 있는 링크("이미 계정이 있으신가요? 로그인")를 제공한다.

⠀
**4. 이메일 기반 로그인 (Email Login)**
* **[REQ-AUTH-201]** 로그인 화면은 이메일, 비밀번호 입력 필드와 '로그인', '회원가입' 버튼으로 구성된다.
* **[REQ-AUTH-202]** 사용자가 이메일과 비밀번호를 입력하고 '로그인' 버튼을 누르면, 시스템은 정보의 유효성을 검증한다.
  * **[REQ-AUTH-202a]** 인증 성공 시, 앱의 메인 화면으로 이동한다.
  * **[REQ-AUTH-202b]** 인증 실패 시, 사용자에게 적절한 오류 메시지(예: "이메일 또는 비밀번호가 올바르지 않습니다.")를 표시한다.
* **[REQ-AUTH-203]** 화면 하단의 '회원가입' 버튼 선택 시, '이메일 회원가입' 화면으로 이동한다.
* **[REQ-AUTH-204]** (와이어프레임 기반 제안) 로그인 폼 하단에 앱의 핵심 기능(식비 설정, 음식점 추천)에 대한 간략한 소개를 표시하여 서비스의 가치를 전달한다.

⠀
**5. 소셜 로그인 (Social Login - Kakao, Google)**
* **[REQ-AUTH-301]** 사용자가 '카카오로 로그인' 또는 '구글로 로그인' 버튼을 선택하면, 각 플랫폼의 표준 OAuth 인증 절차가 시작된다.
* **[REQ-AUTH-302]** 소셜 플랫폼으로부터 성공적으로 사용자 인증 정보를 받아오면, 별도의 정보 입력 과정(이름, 이메일 등) 없이 자동으로 회원가입 또는 로그인이 처리된다.
* **[REQ-AUTH-303]** 최초 소셜 로그인 시, 해당 소셜 계정에서 제공하는 사용자 정보(이름, 이메일 등)를 기반으로 "알뜰식탁" 서비스의 계정을 생성한다.
* **[REQ-AUTH-304]** 소셜 로그인 성공 후, 온보딩 화면으로 이동한다.
* **[REQ-AUTH-305]** 소셜 로그인 실패 또는 사용자가 인증을 취소할 경우, '최초 진입 및 로그인 옵션' 화면으로 돌아가며 오류 메시지를 표시할 수 있다.

## 알뜰식탁(SmartMealTable) 프로젝트 기능 요구사항: 사용자 온보딩
**1. 공통 요구사항**
* **[REQ-ONBOARD-001]** 온보딩 각 단계(주소, 예산, 취향 설정)에서는 '건너뛰기' 옵션을 제공하여 사용자가 필수 정보 입력 없이 다음 단계로 넘어갈 수 있도록 한다.
* **[REQ-ONBOARD-002]** 온보딩 프로세스의 마지막 단계(약관 동의)를 완료하면, '가입완료' 시 앱의 메인 화면으로 이동한다.
* **[REQ-ONBOARD-003]** 사용자가 입력한 모든 온보딩 정보는 해당 사용자 계정에 저장되어야 한다.

**2. 프로필 등록 (Profile Setup)**
* **[REQ-ONBOARD-101]** 사용자는 닉네임을 입력할 수 있다.
* **[REQ-ONBOARD-102]** 사용자는 자신의 소속 집단(학생, 직장인, 해당없음)을 선택할 수 있다.
* **[REQ-ONBOARD-103]** '학생' 또는 '직장인' 선택 시, 소속(학교 또는 직장)을 검색하고 등록하는 UI가 활성화된다.
* **[REQ-ONBOARD-104] (소속 검색)**: 사용자는 키워드를 입력하여 관리자가 사전 등록한 학교/직장 마스터 데이터를 검색할 수 있다.
  * **[REQ-ONBOARD-104a]** 검색 시, 별도의 검색 화면(모달 또는 페이지)이 표시되며, 자체 제공 API를 통해 검색이 수행된다.
  * **[REQ-ONBOARD-104b]** 검색 결과는 리스트 형태로 제공되며, 각 항목에는 명칭, 주소 등의 정보가 포함된다.
  * **[REQ-ONBOARD-104c]** 사용자는 검색 결과 리스트에서 자신의 소속을 선택할 수 있으며, 선택된 정보는 프로필 등록 화면에 반영된다. 사용자는 직접 소속을 생성할 수 없다.
* **[REQ-ONBOARD-105]** 모든 정보 입력 후 '다음' 버튼을 누르면 '주소 등록' 단계로 이동한다.

⠀
**3. 주소 등록 (Address Registration)**
* **[REQ-ONBOARD-201]** 사용자는 자주 방문하는 곳의 주소를 등록하고 관리할 수 있다. (예: 집, 직장, 학교)
* **[REQ-ONBOARD-202]** 저장된 주소 목록이 표시되며, 각 주소는 수정 및 삭제가 가능해야 한다.
* **[REQ-ONBOARD-203] (주소 추가)**: 사용자는 주소를 새로 추가할 수 있다.
  * **[REQ-ONBOARD-203a] (키워드 검색)**: 주소 검색창에 키워드(도로명, 지번 등)를 입력하여 네이버 지도 API를 통해 주소를 검색하고 추가할 수 있다.
  * **[REQ-ONBOARD-203b] (현재 위치로 찾기)**: 사용자의 현재 GPS 위치(위도, 경도)를 획득하고, 네이버 Reverse Geocoding API를 통해 주소로 변환하여 지도 위에서 위치를 확인한 후 등록할 수 있다. GPS 좌표와 주소 정보 모두 저장된다.
* **[REQ-ONBOARD-204] (주소 등록 양식)**: 신규 주소 등록 시, 별칭, 분류(집, 직장, 학교, 기타), 상세 주소를 입력하고 저장할 수 있다.
* **[REQ-ONBOARD-205]** 주소 등록 완료 후 '계속' 버튼을 누르면 '목표 예산 등록' 단계로 이동한다.

**4. 목표 예산 등록 (Budget Goal Registration)**
* **[REQ-ONBOARD-301]** 사용자는 일일 목표 식비 예산을 아침, 점심, 저녁, 기타 항목으로 나누어 설정할 수 있다.
* **[REQ-ONBOARD-302]** 각 항목별 예산을 입력하면 일일 총예산이 자동으로 계산되어 표시된다.
* **[REQ-ONBOARD-303]** 시스템은 (일일 총예산 × 해당 월의 일수)를 월간 총 식비 예산으로 제안하며, 사용자는 제안된 값을 수락하거나 직접 수정할 수 있다.
  * **[REQ-ONBOARD-303a]** 일일 예산과 월별 예산은 독립적으로 관리되며, 일일 예산 수정 시 월별 예산이 자동으로 업데이트되지 않는다.
* **[REQ-ONBOARD-304]** '저장' 버튼 클릭 시, 예산이 성공적으로 저장되었음을 알리는 확인 팝업(모달)이 표시된다.
* **[REQ-ONBOARD-305]** 확인 팝업의 '확인' 버튼 또는 '저장' 버튼 클릭 후 '음식 취향 설정' 단계로 이동한다.

⠀
**5. 음식 취향 설정 (Taste Profile Setup)**
* **[REQ-ONBOARD-401]** 사용자는 선호하는 음식 카테고리와 불호하는 음식 카테고리를 설정할 수 있다.
* **[REQ-ONBOARD-402]** 하단에 제시된 음식 카테고리 목록에서 원하는 항목을 드래그 앤 드롭하여 선호/불호 영역으로 이동시킬 수 있다.
* **[REQ-ONBOARD-403]** 선호/불호 영역 내에서 카테고리들의 우선순위를 드래그 앤 드롭으로 변경할 수 있다.
* **[REQ-ONBOARD-404]** 카테고리 목록은 검색 기능을 통해 필터링할 수 있어야 한다.
* **[REQ-ONBOARD-405] (선호 음식 선택)**: 카테고리 설정 후, 구체적으로 선호하는 개별 음식들을 이미지 그리드에서 선택할 수 있다.
* **[REQ-ONBOARD-406]** 취향 설정 완료 후 '다음' 또는 '저장하기' 버튼을 누르면 '이용 약관 동의' 단계로 이동한다.

⠀
**6. 이용 약관 동의 (Terms of Service Agreement)**
* **[REQ-ONBOARD-501]** 회원가입을 완료하기 위해 사용자는 필수 약관에 동의해야 한다.
* **[REQ-ONBOARD-502]** 약관은 '서비스 이용 약관', '개인정보 수집 동의' 등과 같이 구분되어 제공된다.
* **[REQ-ONBOARD-503]** 푸시 알림 수신 여부와 같은 선택적 동의 항목을 제공한다.
* **[REQ-ONBOARD-504]** 사용자는 각 항목에 대해 '동의함' 또는 '동의안함'을 선택할 수 있다.
* **[REQ-ONBOARD-505]** 필수 약관에 모두 동의해야 '가입완료' 버튼이 활성화된다.
* **[REQ-ONBOARD-506]** '가입취소' 버튼 선택 시, 온보딩 과정이 중단되고 이전 화면으로 돌아가거나 앱이 종료될 수 있다.

## 알뜰식탁(SmartMealTable) 프로젝트 기능 요구사항: 프로필 및 설정
**1. 프로필 메인 화면 (Profile Dashboard)**

* **[REQ-PROFILE-001]** **(데이터 표시)**: 화면 진입 시 서버로부터 사용자 데이터(이름, 이메일, 연동된 소셜 계정, 소속, 주소 등)를 불러와 각 항목에 정확히 표시해야 한다. 데이터 로딩 중에는 스켈레톤 UI와 같은 로딩 인디케이터를 표시한다.
* **[REQ-PROFILE-002]** **(네비게이션)**: '계정 관리'의 버튼들과 '사용자 정보', '앱 설정' 섹션의 각 메뉴는 터치 가능한(Tappable) 영역으로, 선택 시 지정된 상세 페이지 또는 모달 창으로 이동해야 한다.
* **[REQ-PROFILE-003]** **(상태 반영)**: 하위 메뉴에서 정보가 성공적으로 수정되고 프로필 화면으로 돌아왔을 때, 변경된 내용이 즉시 반영되어야 한다. (예: 주소 변경 후 '대표 주소' 항목에 새 주소 표시)

⠀
**2. 계정 관리 (Account Management)**

* **[REQ-PROFILE-101] (이메일 업데이트)**
  * **[REQ-PROFILE-101a]** **(입력 유효성 검증)**: '새 이메일' 입력 필드에서는 이메일 형식(@, . 포함)을 실시간으로 검증해야 한다.
  * **[REQ-PROFILE-101b]** **(중복 확인)**: '이메일 주소 업데이트' 버튼 클릭 시, 시스템은 입력된 새 이메일이 이미 다른 계정에서 사용 중인지 확인하고, 중복 시 "이미 사용 중인 이메일입니다."와 같은 오류 메시지를 표시해야 한다.
  * **[REQ-PROFILE-101c]** **(성공/실패 처리)**: 업데이트 성공 시 "이메일이 성공적으로 변경되었습니다." 메시지를 표시하고 모달을 닫는다. 실패 시 원인에 맞는 오류 메시지를 표시한다.
* **[REQ-PROFILE-102] (비밀번호 변경)**
  * **[REQ-PROFILE-102a]** **(현재 비밀번호 검증)**: '비밀번호 변경' 버튼 클릭 시, 시스템은 '현재 비밀번호' 필드에 입력된 값이 실제 사용자의 비밀번호와 일치하는지 먼저 확인해야 한다. 불일치 시 "현재 비밀번호가 일치하지 않습니다." 메시지를 표시한다.
  * **[REQ-PROFILE-102b]** **(새 비밀번호 규칙)**: '새 비밀번호'는 보안 강도 규칙(예: 영문, 숫자, 특수문자 포함 8자 이상)을 충족해야 하며, 규칙에 맞지 않을 경우 실시간으로 사용자에게 알려준다.
  * **[REQ-PROFILE-102c]** **(새 비밀번호 일치 확인)**: '새 비밀번호'와 '새 비밀번호 확인' 필드의 값이 일치하지 않으면 '변경' 버튼이 비활성화되거나, 클릭 시 "새 비밀번호가 일치하지 않습니다." 메시지를 표시한다.
  * **[REQ-PROFILE-102d]** **(비밀번호 변경 주기)**: 비밀번호는 90일마다 변경을 권장하며, 만료일이 도래했을 때 변경 안내 모달을 표시한다. 사용자는 '건너뛰기'를 선택할 수 있으며, 이 경우 비밀번호 만료일이 +90일 연장된다.
* **[REQ-PROFILE-103] (소셜 로그인 관리)**
  * **[REQ-PROFILE-103a]** **(연동 해제 확인)**: '해제' 버튼 클릭 시, "정말로 OOO 계정 연동을 해제하시겠습니까?"와 같은 재확인 팝업(Alert)을 표시해야 한다.
  * **[REQ-PROFILE-103b]** **(로그인 수단 보호)**: 만약 해제하려는 소셜 계정이 유일한 로그인 수단일 경우(이메일 비밀번호가 설정되지 않음), 연동을 해제하기 전에 "연동 해제 전 비밀번호를 먼저 설정해주세요."라는 메시지와 함께 비밀번호 변경 화면으로 안내해야 한다.
  * **[REQ-PROFILE-103c]** **(소셜 계정 중복 연동)**: 같은 이메일을 가진 사용자는 여러 소셜 계정(카카오, 구글)을 연동할 수 있으며, 모든 연동된 소셜 계정으로 로그인 가능하다.

⠀**3. 사용자 데이터 관리 (Account Management)**
- **[REQ-PROFILE-201] 사용자 정보 관리 (User Information Management)**
  * **[REQ-PROFILE-201a]** '소속' 메뉴 진입 시, 기존에 저장된 소속 정보를 각 필드에 채워진 상태로 표시해야 한다.
  * **[REQ-PROFILE-201b]** '저장' 버튼 클릭 시, 변경된 소속 정보를 서버에 저장하고 프로필 메인 화면으로 복귀해야 한다.

- **[REQ-PROFILE-202] 주소 관리**
  * **[REQ-PROFILE-202a]** '주소 관리' 화면 진입 시, 저장된 모든 주소의 목록(별칭, 전체 주소)을 표시해야 한다.
  * **[REQ-PROFILE-202b]** 각 주소 항목에는 '수정'과 '삭제' 버튼이 제공되어야 한다.
  * **[REQ-PROFILE-202c]** '삭제' 버튼 클릭 시, "정말 삭제하시겠습니까?"와 같은 재확인 얼럿(Alert) 창을 표시해야 한다.
  * **[REQ-PROFILE-202d]** '현재 위치로 찾기' 기능 사용 시, 사용자의 위치 정보 접근 권한을 확인하고 없을 경우 요청해야 한다.
  * **[REQ-PROFILE-202e]** 목록의 라디오 버튼을 통해 사용자는 여러 주소 중 하나를 '대표 주소'로 설정할 수 있어야 한다.
  - 나머지 구체적인 동작은은 온보딩 섹션의 주소 관리 요구사항과 동일하다.
- **[REQ-PROFILE-203] 음식 취향 설정**
  - **[REQ-PROFILE-203a]** '저장' 버튼 클릭 시, 변경된 음식 취향 정보를 서버에 저장하고 프로필 메인 화면으로 복귀해야 한다.
  - 나머지 구체적인 동작은은 온보딩 섹션의 음식 취향 설정과 동일하다.
⠀
* **[REQ-PROFILE-204] (예산 관리)**
  * **[REQ-PROFILE-204a]** **(달력 네비게이션)**: 화면 상단의 월(예: 2025년 9월) 좌우 화살표를 통해 이전 달, 다음 달의 예산 및 지출 내역을 조회할 수 있어야 한다.
  * **[REQ-PROFILE-204b]** **(월 데이터 수정)**: 달력 네비게이션을 통해 월을 지정하고, 해당 월의 예산을 수정할 수 있다.
  * **[REQ-PROFILE-204c]** **(일별 데이터 표시)**: 지출이 발생한 날짜에는 해당일의 총 지출액(수입은 녹색(+), 지출은 적색(-) 등으로 구분)을 달력에 요약 표시해야 한다.
  * **[REQ-PROFILE-204d]** **(일일 예산 상세 설정)**: 달력에서 특정 날짜를 선택하면, 하단의 '식사 예산 설정' 섹션이 해당 날짜 기준으로 활성화되어야 한다. 사용자는 점심, 저녁, 간식, 기타 항목에 대한 예산을 숫자 키패드를 통해 입력할 수 있다.
  * **[REQ-PROFILE-204e]** **(향후 예산 기본값 설정)**: 'OO일 이후 기본 값으로 설정하기' 체크박스를 선택하고 저장하면, 해당 날짜 이후의 모든 날짜에 대한 기본 식사 예산이 방금 입력한 값으로 일괄 적용되어야 한다.
* **[REQ-PROFILE-205] (음식 추천 시스템 선택)**
  * **[REQ-PROFILE-205a]** **(현재 설정 표시)**: 모달이 열렸을 때, 사용자가 현재 설정한 추천 유형(예: 균형형)이 시각적으로 선택되어 있음을 표시해야 한다.
  * **[REQ-PROFILE-205b]** **(선택 및 저장)**: 사용자가 다른 유형을 선택하고 '저장하기' 버튼을 누르면, 선택 값이 사용자 계정에 저장되고 모달이 닫힌다. 이 값은 실제 음식 추천 알고리즘의 파라미터로 사용되어야 한다.
⠀
**4. 앱 설정 (App Settings)**
* **[REQ-PROFILE-301]** **(설정 상태 동기화)**: 화면 진입 시, 모든 토글 스위치(알림, 사용자 추적 등)는 서버에 저장된 사용자의 현재 설정 상태를 정확히 반영하고 있어야 한다.
* **[REQ-PROFILE-302] (알림 설정)**
  * **[REQ-PROFILE-302a]** **(상하위 관계 적용)**: '전체 푸시 알림' 토글을 OFF하면, 하위 알림인 '가게 공지 알림'과 '음식점 추천 알림' 토글이 함께 비활성화(disabled) 상태로 변경되어야 한다. 다시 ON하면 이전 상태로 복구된다.
* **[REQ-PROFILE-304] (앱 정보)**
  * **[REQ-PROFILE-304a]** **(인앱 브라우저)**: '개인정보처리방침', '이용 약관'과 같은 외부 링크는 앱을 벗어나지 않고 인앱(In-app) 웹뷰를 통해 콘텐츠를 표시해야 한다.

**5. 기타 (Etc.)**
* **[REQ-PROFILE-401] (로그아웃)**
  * **[REQ-PROFILE-401a]** **(세션 초기화)**: 로그아웃 시, 앱 내에 저장된 사용자 인증 토큰 및 개인 데이터를 안전하게 삭제하여 다른 사용자가 접근할 수 없도록 해야 한다.
* **[REQ-PROFILE-402] (회원 탈퇴)**
  * **[REQ-PROFILE-402a]** **(경고 및 안내)**: 탈퇴 버튼 클릭 시, 별도의 탈퇴 안내 페이지로 이동하여 삭제되는 데이터의 범위(예: 지출 내역, 예산 설정, 음식 취향 등)와 복구가 불가능함을 명확히 고지해야 한다.
  * **[REQ-PROFILE-402b]** **(본인 확인 절차)**: 사용자의 의사를 재확인하고 실수를 방지하기 위해, 비밀번호를 다시 입력하거나 "알뜰식탁 회원 탈퇴에 동의합니다"와 같은 특정 문구를 직접 입력해야만 최종 '탈퇴' 버튼이 활성화되도록 구현한다.
  * **[REQ-PROFILE-402c]** **(Soft Delete)**: 탈퇴 처리 시 즉시 데이터를 삭제하지 않고, deleted_at 필드에 탈퇴 시각을 기록하는 Soft Delete 방식을 사용한다.
  * **[REQ-PROFILE-402d]** **(데이터 보관 기간)**: 탈퇴 후 1년(365일) 동안 데이터를 보관하며, 이 기간 동안 법적 보관 의무가 있는 데이터를 제외한 개인정보는 배치 작업을 통해 영구 삭제된다.
  * **[REQ-PROFILE-402e]** **(데이터 완전 삭제)**: 1년 경과 후 배치 작업 실행 시, 법적 보관 의무가 있는 최소한의 정보를 제외한 모든 사용자 관련 데이터(지출 내역, 선호도, 즐겨찾기, 주소 이력 등)를 서버에서 영구적으로 삭제(Hard Delete)해야 한다.

## 5.0 즐겨찾는 가게 (Favorite Restaurants)
**5.1 화면 기본 기능 (Basic Screen Functions)**
* **[REQ-FAV-101] (데이터 로딩)**: 사용자가 '즐겨찾는 가게' 탭에 진입 시, 서버로부터 사용자가 즐겨찾기한 가게 목록 데이터를 요청하고, 로딩 중임을 나타내는 스켈레톤 UI를 표시해야 한다.
* **[REQ-FAV-102] (목록 표시)**: 데이터 로딩 성공 시, 저장된 순서대로 가게 목록을 세로 스크롤이 가능한 리스트 형태로 표시해야 한다.
* **[REQ-FAV-103] (빈 화면 처리)**: 즐겨찾기한 가게가 없을 경우, "즐겨찾는 가게가 없습니다."와 같은 안내 메시지와 함께 가게를 추가하도록 유도하는 UI를 표시해야 한다.
* **[REQ-FAV-104] (화면 진입)**: 사용자가 개별 가게의 상세 페이지로 이동했다가 다시 이 화면으로 돌아왔을 때, 스크롤 위치 등 기존 상태를 유지해야 한다.

**5.2 목록 순서 변경 (List Reordering)**
* **[REQ-FAV-201] (드래그 앤 드롭)**: 사용자는 각 가게 카드의 드래그 핸들(또는 카드 전체)을 길게 눌러(Long Press) 드래그 앤 드롭 모드를 활성화할 수 있다.
  * **[REQ-FAV-201a] (시각적 피드백)**: 드래그가 시작된 아이템은 그림자 효과 등으로 다른 아이템과 시각적으로 구분되어야 한다.
  * **[REQ-FAV-201b] (순서 변경)**: 사용자가 아이템을 드래그하여 목록 내 다른 위치로 이동시킨 후 놓으면(Drop), 목록의 순서가 시각적으로 변경되어야 한다.
  * **[REQ-FAV-201c] (순서 저장)**: 드롭 동작이 완료되면, 변경된 목록의 순서를 즉시 서버에 저장하여 이후에도 순서가 유지되도록 해야 한다.
  * **[REQ-FAV-201d] (저장 실패 처리)**: 네트워크 오류 등으로 순서 저장에 실패할 경우, "순서 변경에 실패했습니다. 다시 시도해주세요."와 같은 메시지를 표시하고, 순서를 원래대로 복구하거나 재시도 옵션을 제공해야 한다.

⠀
**5.3 가게 삭제 (Deleting a Favorite)**
* **[REQ-FAV-301] (삭제 기능)**: 사용자는 각 가게 카드 우측 상단의 삭제(휴지통) 아이콘을 탭하여 즐겨찾기에서 해당 가게를 삭제할 수 있다.
  * **[REQ-FAV-301a] (삭제 재확인)**: 삭제 아이콘을 탭하면, "정말 즐겨찾기에서 삭제하시겠습니까?"와 같은 확인 얼럿(Alert) 창을 표시하여 사용자의 실수를 방지해야 한다.
  * **[REQ-FAV-301b] (삭제 처리)**: 사용자가 얼럿 창에서 '확인'을 누르면, 해당 가게 카드가 목록에서 즉시 사라지고, 서버에 삭제 요청을 전송해야 한다.
  * **[REQ-FAV-301c] (삭제 취소)**: 사용자가 얼럿 창에서 '취소'를 누르면, 아무 동작도 하지 않고 얼럿 창을 닫는다.
  * **[REQ-FAV-301d] (실행 취소 - 선택사항)**: 삭제 성공 후, 화면 하단에 "OOO을(를) 즐겨찾기에서 삭제했습니다." 라는 토스트 메시지와 함께 '실행 취소(Undo)' 버튼을 잠시(예: 3초) 노출하여 사용자가 복구할 기회를 제공할 수 있다.

⠀
**5.4 필터 및 정렬 (Filtering and Sorting)**
* **[REQ-FAV-401] (필터 기능 접근)**: 화면 우측 상단의 필터 아이콘을 탭하면, 정렬 및 필터 옵션을 설정할 수 있는 바텀시트(Bottom Sheet) 또는 모달 창이 표시되어야 한다.
* **[REQ-FAV-402] (정렬 옵션)**: 정렬 기준을 제공해야 한다.
  * **[REQ-FAV-402a] (사용자 지정 순서)**: 사용자가 드래그 앤 드롭으로 설정한 순서 (기본값)
  * **[REQ-FAV-402b] (별점 높은 순)**: 가게의 별점(평점)이 높은 순
  * **[REQ-FAV-402c] (이름 가나다 순)**: 가게의 이름순
* **[REQ-FAV-403] (필터 옵션)**: 목록을 필터링할 수 있는 기준을 제공해야 한다.
  * **[REQ-FAV-403a] (영업 상태)**: '영업 중인 곳만 보기'와 같은 토글/체크박스 옵션
  * **[REQ-FAV-403b] (음식 종류)**: 등록된 가게들의 음식 종류(예: 한식, 이탈리안)를 기반으로 필터링

  #### (1) 필터
  - 반경 거리(드롭 다운)  
    - 0.5km 미만(디폴트)  
    - 1km 미만  
    - 2km 미만  
    - 불호(온오프)  
      - 포함 (디폴트)  
    - 영업 시간(온오프)  
      - 전체 (디폴트)  
    - 학식/음식점(드롭다운)  
      - 전체 (디폴트)  
      - 학식만  
      - 음식점만
  #### (2) 정렬 조건 (드롭 다운)
  - 기본 순 조회(디폴트)  
  - 가까운 순 조회  
  - 리뷰 순 조회  
  - 평균 가격 낮은 순  
  - 평균 가격 높은 순  
  - 즐겨찾기 많은 순  
  - 관심도(조회수) 높은 순  
  - 관심도(조회수) 낮은 순
⠀
**5.5 개별 가게 카드 (Individual Restaurant Card)**
* **[REQ-FAV-501] (정보 표시)**: 각 가게 카드는 가게 이미지, 가게명, 리뷰 개수, 음식 종류, 주소, 영업 상태 태그를 필수로 표시해야 한다.
* **[REQ-FAV-502] (상세 페이지 이동)**: 사용자가 카드 영역(삭제, 드래그 핸들 등 특정 아이콘 제외)을 탭하면, 해당 가게의 상세 정보 페이지로 이동해야 한다.
* **[REQ-FAV-503] (추가 옵션 메뉴)**: 카드 내의 더보기(점 3개) 아이콘을 탭하면, '공유하기', '전화 걸기' 등 해당 가게와 관련된 추가적인 액션 목록을 제공할 수 있다.

네, 알겠습니다. 새로운 와이어프레임에 포함된 '지출 내역 등록' 기능을 포함하여, '지출 내역' 탭 전체에 대한 기능 요구사항을 요청하신 카드 형식으로 상세하게 정리했습니다.


## 6.0 지출 내역 (Spending History)
**6.1 화면 기본 기능 및 필터**
* **[REQ-SPEND-101] (데이터 로딩 및 표시)**: 탭 진입 시, 설정된 필터 기간에 맞는 사용자의 지출 내역 데이터를 서버에서 로딩하고, 로딩 중임을 나타내는 인디케이터를 표시해야 한다.
* **[REQ-SPEND-102] (빈 화면 처리)**: 해당하는 기간에 지출 내역이 없을 경우, 그래프와 목록 영역에 "지출 내역이 없습니다."와 같은 안내 메시지를 표시해야 한다.
* **[REQ-SPEND-103] (필터 기능)**: 사용자는 기간 필터(간격, 년, 월, 일자 범위)를 통해 원하는 기간의 지출 내역을 조회할 수 있어야 한다.
  * **[REQ-SPEND-103a] (필터 기본값)**: 화면에 처음 진입 시, 필터는 '일주일' 또는 '이번 달'과 같은 기본값으로 설정되어 있어야 한다.
  * **[REQ-SPEND-103b] (필터 적용)**: 필터 값을 변경하면, 해당 조건에 맞는 데이터로 그래프와 지출 목록이 즉시 다시 로딩되고 갱신되어야 한다.
⠀
**6.2 지출 그래프**
* **[REQ-SPEND-201] (그래프 시각화)**: 필터링된 기간 동안의 일별 지출 현황을 꺾은선 그래프로 시각화하여 표시해야 한다.
* **[REQ-SPEND-202] (데이터 표시)**: 그래프에는 두 가지 데이터가 표시되어야 한다.
  * **[REQ-SPEND-202a] (일별 총 지출액)**: 주황색 선으로 실제 일별 총 지출액의 추이를 표시한다.
  * **[REQ-SPEND-202b] (일별 목표 예산)**: 파란색 선으로 해당일의 목표 예산 금액을 표시하여 사용자가 지출액과 비교할 수 있도록 한다.
* **[REQ-SPEND-203] (상호작용 - 선택사항)**: 사용자가 그래프의 특정 데이터 포인트(날짜)를 터치하면, 해당 날짜의 총 지출액과 예산액을 툴팁 형태로 보여줄 수 있다.

**6.3 지출 목록 및 상세 내역**
* **[REQ-SPEND-301] (목록 표시)**: 필터링된 기간의 모든 지출 내역을 최신순으로 정렬하여 목록 형태로 표시해야 한다.
* **[REQ-SPEND-302] (요약 정보)**: 각 지출 항목은 기본적으로 가게명, 식사 유형(아침/점심/저녁/기타), 거래 일시, 총 지출 금액을 요약하여 표시한다.
* **[REQ-SPEND-303] (상세 내역 확장)**: 구체적인 품목 정보(음식, 가격, 수량 등)가 저장된 지출 내역의 경우, 카드 우측에 드롭다운(화살표) 버튼을 표시해야 한다.
  * **[REQ-SPEND-303a] (확장/축소)**: 드롭다운 버튼을 탭하면 카드가 확장되면서 숨겨져 있던 상세 품목 리스트를 보여주고, 다시 탭하면 축소되어야 한다.
  * **[REQ-SPEND-303b] (상세 내역 부재)**: 상세 품목 정보가 없는 지출 내역의 경우, 드롭다운 버튼을 표시하지 않아야 한다.
* **[REQ-SPEND-304] (지출 내역 수정)**: 사용자는 등록된 지출 내역을 수정할 수 있다. 실수로 잘못 입력한 경우를 위한 기능이다.
* **[REQ-SPEND-305] (지출 내역 삭제)**: 사용자는 등록된 지출 내역을 삭제할 수 있다. 삭제 시 Soft Delete 방식(deleted_at 필드)을 사용하며, 삭제된 내역은 추천 알고리즘에서 제외된다.
⠀
**6.4 지출 내역 등록**
* **[REQ-SPEND-401] (등록 화면 진입)**: 사용자는 화면 하단의 '지출 내용 등록하기' 버튼을 탭하여 '지출 등록' 화면으로 이동할 수 있다.
* **[REQ-SPEND-402] (입력 방식 선택)**: '지출 등록' 화면은 '문자 붙여넣기'와 '직접 입력하기' 탭으로 구성되며, 사용자는 원하는 입력 방식을 선택할 수 있다.

⠀
**6.4.1 문자 메시지 파싱으로 등록**
* **[REQ-SPEND-411] (문자 내용 입력)**: 사용자는 결제 승인 문자 메시지를 복사하여 지정된 텍스트 영역에 붙여넣을 수 있다.
* **[REQ-SPEND-412] (자동 파싱)**: 문자 내용이 입력되면, 시스템은 사전에 정의된 규칙에 따라 문자열을 분석(Parsing)하여 가게명, 금액, 날짜 정보를 자동으로 추출해야 한다.
* **[REQ-SPEND-413] (추출 정보 표시)**: 성공적으로 추출된 정보는 '추출된 정보' 섹션의 각 해당 필드(날짜, 가게명, 금액)에 자동으로 채워져야 한다.
* **[REQ-SPEND-414] (수동 입력)**: 사용자는 자동으로 채워진 정보를 수정하거나, 파싱되지 않은 항목(카테고리, 식비 유형)을 직접 선택해야 한다.
* **[REQ-SPEND-415] (저장)**: '지출 저장하기' 버튼을 탭하면, 입력된 정보가 새로운 지출 내역으로 저장되고, 이전의 '지출 내역' 목록 화면으로 돌아가야 한다.

⠀
**6.4.2 직접 입력으로 등록**
* **[REQ-SPEND-421] (수동 입력 필드)**: 사용자는 날짜, 상호명, 가격, 카테고리, 식사 유형을 직접 입력하거나 선택할 수 있는 입력 필드를 제공받는다.
* **[REQ-SPEND-422] (입력 유효성 검증)**: '지출 등록' 버튼 클릭 시, 필수 입력 필드(예: 날짜, 가격)가 모두 채워졌는지 검증해야 한다.
* **[REQ-SPEND-423] (저장)**: '지출 등록' 버튼을 탭하면, 입력된 정보가 새로운 지출 내역으로 저장되고, 이전의 '지출 내역' 목록 화면으로 돌아가야 한다.

**6.5 예산 초과 시나리오**
* **[REQ-SPEND-501] (예산 초과 시 경고)**: 지출 등록 시 당일 예산을 초과하는 경우, 경고 알림을 발송하여 사용자에게 알린다. (예: "오늘 식비 예산 15,000원 중 17,000원을 사용하셨습니다. 내일은 예산 내에서 식사해보세요! 💡")
* **[REQ-SPEND-502] (지출 등록 가능)**: 예산을 초과하더라도 지출 등록은 가능하며, 강제 제한하지 않는다.
* **[REQ-SPEND-503] (예산 이월 불가)**: 남은 예산이나 초과한 예산은 다음 날로 이월되지 않으며, 각 날짜의 예산은 독립적으로 관리된다.

네, 알겠습니다. 메인 페이지(홈 탭)와 최초 진입 시 등장하는 모달, 팝업에 대한 기능 요구사항을 요청하신 카드 형식으로 상세하게 정리했습니다.


## 7.0 홈 화면 (Main Home Screen)
**7.1 초기 진입 시 조건부 UI**
**7.1.1 최초 온보딩 완료 후**
* **[REQ-HOME-111] (추천 유형 선택 모달)**: 사용자가 온보딩 프로세스를 모두 완료하고 처음으로 홈 화면에 진입하면, 다른 상호작용에 앞서 '음식 추천 유형 선택' 모달이 화면 위에 표시되어야 한다.
  * **[REQ-HOME-111a] (유형 선택)**: 사용자는 '절약형', '모험형', '균형형' 중 하나의 음식 추천 성향을 선택할 수 있다.
  * **[REQ-HOME-111b] (선택 완료)**: '선택 완료' 버튼을 탭하면, 선택된 성향이 사용자 프로필에 저장되고 모달이 닫힌다. 이 성향은 이후 모든 추천 로직에 반영되어야 한다.
  * **[REQ-HOME-111c] (나중에 선택)**: '나중에' 버튼을 탭하면, 기본값(예: '균형형')이 임시로 적용되거나 설정이 보류된 채로 모달이 닫힌다. 이 경우, 프로필 설정에서 언제든지 다시 설정할 수 있도록 안내해야 한다.
⠀
**7.1.2 매월 최초 방문 시**
* **[REQ-HOME-121] (월별 예산 설정 팝업)**: 사용자가 매월 1일 이후 처음으로 앱을 실행(또는 홈 화면에 진입)할 때, '예산 설정' 팝업이 표시되어야 한다.
  * **[REQ-HOME-121a] (기존 예산 유지)**: '기존 예산 목표 유지' 버튼을 탭하면, 지난달의 목표 예산 설정(일별, 월별)이 이번 달에도 동일하게 적용되고 팝업이 닫힌다.
  * **[REQ-HOME-121b] (예산 목표 변경)**: '예산 목표 변경' 버튼을 탭하면, 사용자를 '예산 설정' 상세 페이지로 이동시켜 이번 달의 새로운 예산을 설정하도록 안내하고 팝업을 닫는다.
  * **[REQ-HOME-121c] (팝업 재표시 방지)**: 사용자가 팝업에서 특정 옵션을 선택하고 나면, 해당 월에는 더 이상 이 팝업이 표시되지 않아야 한다.

**7.2 화면 기본 기능**
* **[REQ-HOME-201] (데이터 로딩 및 표시)**: 홈 탭 진입 시, 예산 현황, 추천 메뉴 등 모든 데이터를 서버로부터 비동기적으로 로딩하고, 로딩 중임을 나타내는 스켈레톤 UI를 표시해야 한다.
* **[REQ-HOME-202] (위치 정보 표시)**: 화면 상단에는 시스템이 파악한 사용자의 '현재 위치'가 텍스트로 표시되어야 한다.
  * **[REQ-HOME-202a] (위치 변경)**: 위치 텍스트 또는 옆의 드롭다운 아이콘을 탭하면, 사용자가 저장한 주소 목록(집, 회사 등)이나 주소 검색을 통해 기준 위치를 변경할 수 있는 UI가 제공되어야 한다. 기준 위치 변경 시, 거리 기반 추천 정보는 즉시 갱신되어야 한다.
⠀
**7.3 식비 예산 현황**
* **[REQ-HOME-301] (오늘 소비 금액)**: 오늘(자정 기준) 발생한 모든 식비 지출의 총액을 실시간으로 집계하여 표시해야 한다.
* **[REQ-HOME-302] (남은 식비)**: '오늘 설정한 식비 목표'에서 '오늘 소비 금액'을 뺀 값을 '남은 식비'로 계산하여 표시해야 한다.
* **[REQ-HOME-303] (예산 관리 페이지 이동)**: '관리' 버튼을 탭하면, 상세한 예산 설정이 가능한 '예산 설정' 페이지로 이동해야 한다.
⠀
**7.4 추천 메뉴**
* **[REQ-HOME-401] (개인화 메뉴 추천)**: 사용자의 선호/불호 음식, 선택한 추천 유형(절약형/모험형/균형형), 현재 예산, 시간대 등을 종합적으로 고려하여 개인화된 추천 메뉴 목록을 표시해야 한다.
* **[REQ-HOME-402] (메뉴 정보)**: 각 추천 메뉴 카드는 메뉴명, 가격, 그리고 '인기 메뉴' 등과 같은 특징을 나타내는 태그를 포함해야 한다.
* **[REQ-HOME-403] (상세 정보 이동)**: 추천 메뉴 카드를 탭하면, 해당 메뉴의 상세 정보 또는 해당 메뉴를 판매하는 주변 음식점 목록 페이지로 이동해야 한다.

**7.5 식사 추천 (음식점)**
* **[REQ-HOME-501] (개인화 음식점 추천)**: '추천 메뉴' 로직과 유사하게, 사용자 설정 및 현재 위치를 기반으로 맞춤형 음식점 목록을 추천해야 한다.
* **[REQ-HOME-502] (위치/상황 정보)**: 각 추천 음식점 카드에는 가게명과 함께 "도보 5분 거리", "학교 근처" 등 사용자의 현재 상황과 관련된 거리 또는 위치 정보를 함께 표시하여 편의성을 높여야 한다.
* **[REQ-HOME-503] (상세 정보 이동)**: 추천 음식점 카드를 탭하면, 해당 음식점의 상세 정보 페이지로 이동해야 한다.

## 8.0 음식 추천 (Food Recommendation)
**8.1 검색 기능**
* **[REQ-RECO-101] (검색창)**: 화면 상단에는 '가게 또는 메뉴 검색'을 위한 텍스트 검색창을 제공해야 한다.
* **[REQ-RECO-102] (검색 실행)**: 사용자가 검색어를 입력하고 검색을 실행하면(키보드의 '검색' 버튼 또는 별도 버튼 클릭), 해당 키워드를 포함하는 가게 또는 메뉴를 기준으로 검색 결과를 표시해야 한다.
* **[REQ-RECO-103] (검색 결과 연동)**: 검색 결과는 아래에 기술될 필터 및 정렬 조건이 모두 함께 적용되어야 한다.

⠀
**8.2 필터 및 정렬**
* **[REQ-RECO-201] (필터 바)**: 검색창 아래에는 사용자가 추천 결과를 세부적으로 조정할 수 있는 필터 및 정렬 옵션 바를 제공해야 한다.
* **[REQ-RECO-202] (거리 필터)**: 반경 거리 필터는 드롭다운 형태로 제공해야 한다.
  * **[REQ-RECO-202a] (옵션)**: '0.5km 미만'(기본값), '1km 미만', '2km 미만' 옵션을 제공한다.
* **[REQ-RECO-203] (유형 필터)**: 가게 유형 필터는 드롭다운 형태로 제공해야 한다.
  * **[REQ-RECO-203a] (옵션)**: '전체'(기본값), '학식만', '음식점만' 옵션을 제공한다.
* **[REQ-RECO-204] (불호 필터)**: 사용자가 프로필에 설정한 '불호 음식' 카테고리에 해당하는 가게를 제외하는 ON/OFF 형태의 버튼을 제공해야 한다.
  * **[REQ-RECO-204a] (기본값)**: 기본적으로 불호 필터는 적용되지 않은 상태(OFF, 불호 가게 포함)여야 한다.
* **[REQ-RECO-205] (영업 시간 필터)**: 현재 시각 기준으로 영업 중인 가게만 필터링하는 ON/OFF 형태의 버튼을 제공해야 한다.
  * **[REQ-RECO-205a] (기본값)**: 기본적으로 영업 시간 필터는 적용되지 않은 상태(OFF, 모든 가게 표시)여야 한다.
* **[REQ-RECO-206] (정렬 조건)**: 검색 결과를 정렬하는 기준은 드롭다운 형태로 제공해야 한다.
  * **[REQ-RECO-206a] (옵션)**: '추천순'(기본값), '가까운 순', '리뷰 많은 순', '평균 가격 낮은 순', '평균 가격 높은 순', '즐겨찾기 많은 순', '조회수 높은 순', '조회수 낮은 순' 옵션을 제공한다.
* **[REQ-RECO-207] (필터 상태 표시)**: 현재 적용된 필터 및 정렬 조건의 요약(예: 정렬: 추천순 거리: 0.5km 불호제외: 미포함)을 필터 바 아래에 텍스트로 표시해야 한다.

⠀
**8.3 검색 결과 표시**
* **[REQ-RECO-301] (검색 건수)**: 현재 검색어와 필터 조건에 맞는 결과의 총 건수를 "OOO개 결과" 형식으로 가게 목록 상단에 표시해야 한다.
* **[REQ-RECO-302] (목록 업데이트)**: 사용자가 검색어를 변경하거나 필터/정렬 옵션을 변경할 때마다, 즉시 서버에 재요청하여 결과 건수와 가게 목록을 갱신해야 한다.

⠀
**8.4 가게 목록 및 카드**
**8.4.1 가게 정보 카드**
* **[REQ-RECO-411] (카드 구성)**: 검색된 각 가게는 하나의 정보 카드로 표시되어야 한다.
* **[REQ-RECO-412] (필수 표시 정보)**: 각 카드에는 아래의 데이터가 명확히 표시되어야 한다.
  * **[REQ-RECO-412a] (기본 정보)**: 가게 대표 이미지, 가게명, 음식 카테고리
  * **[REQ-RECO-412b] (정량 정보)**: 현재 위치로부터의 거리(예: 0.3km), 총 리뷰 개수, 평균 가격대
  * **[REQ-RECO-412c] (상태 정보)**: '영업중'과 같은 현재 영업 상태, '매우 인기 많음' 등과 같은 관심도(조회수) 기반의 정성적 태그
* **[REQ-RECO-413] (즐겨찾기 기능)**: 카드 우측 상단에는 즐겨찾기(하트) 아이콘을 제공하여, 탭하면 즐겨찾기 목록에 추가하거나 삭제할 수 있어야 한다.
* **[REQ-RECO-414] (상세 페이지 이동)**: 사용자가 카드의 메인 영역(이미지, 가게명 등)을 탭하면, 해당 가게의 상세 정보 페이지로 이동해야 한다.
⠀
**8.4.2 카드 내 메뉴 목록**
* **[REQ-RECO-421] (간단 메뉴 정보)**: 각 가게 카드 하단에는 해당 가게의 대표 메뉴 몇 가지를 가로로 스크롤하여 볼 수 있는 목록을 제공해야 한다.
* **[REQ-RECO-422] (메뉴 정보)**: 각 메뉴 아이템은 음식 이미지, 메뉴명, 가격 정보를 포함해야 한다.
* **[REQ-RECO-423] (메뉴 상세 이동 - 선택사항)**: 사용자가 개별 메뉴 아이템을 탭하면, 해당 메뉴의 상세 정보 또는 주문 옵션이 있는 페이지로 이동할 수 있다.

## 9.0 가게 상세 페이지 (Store Page)
**9.1 상단 가게 정보**
* **[REQ-STORE-101] (메타 정보 표시)**: 페이지 상단에는 가게의 주요 정보가 명확히 표시되어야 한다.
  * **[REQ-STORE-101a] (표시 항목)**: 가게 대표 이미지(배경), 가게명, 음식 카테고리, 현재 위치로부터의 거리, 평균 가격대, 영업 상태, 관심도(인기) 태그를 포함해야 한다.
* **[REQ-STORE-102] (즐겨찾기 기능)**: 사용자가 가게를 즐겨찾기 목록에 추가하거나 삭제할 수 있는 토글형 즐겨찾기(하트) 버튼을 제공해야 한다.
* **[REQ-STORE-103] (가게 세부 정보 모달)**: '정보' 버튼을 제공하며, 탭하면 '가게 세부 정보 모달'이 표시되어야 한다. (상세 내용은 9.4 참조)

⠀
**9.2 메뉴 목록**
* **[REQ-STORE-201] (메뉴 섹션 구분)**: 메뉴 목록은 '추천 메뉴' 섹션과 '전체 메뉴' 섹션으로 구분하여 표시해야 한다.
* **[REQ-STORE-202] (메뉴 정렬)**: '추천 메뉴' 섹션의 메뉴들은 앱의 추천 시스템 로직(사용자 선호도, 예산, 인기 등)에 따라 우선순위가 높은 순서로 정렬되어야 한다.
* **[REQ-STORE-203] (음식 카드 구성)**: 각 메뉴는 개별 카드로 표시되며, 아래 정보를 포함해야 한다.
  * **[REQ-STORE-203a] (기본 정보)**: 음식 이미지, 메뉴명, 기본 가격, 간단한 음식 설명을 표시한다.
  * **[REQ-STORE-203b] (예산 비교 표시)**: 해당 메뉴의 가격이 사용자의 현재 식사 예산(남은 일일 식비/끼니 수) 대비 초과하는지(+금액), 여유가 있는지(-금액)를 시각적인 태그로 표시해야 한다.
* **[REQ-STORE-204] (상세 페이지 이동)**: 사용자가 특정 음식 카드를 탭하면, 해당 음식의 상세 페이지로 이동해야 한다. (상세 내용은 9.5 참조)

⠀
**9.3 하단 장바구니 요약**
* **[REQ-STORE-301] (영역 표시 조건)**: 이 영역은 사용자가 메뉴를 1개 이상 장바구니에 담았을 때, 화면 하단에 고정된 형태로 표시되어야 한다.
* **[REQ-STORE-302] (합계 정보)**: 현재 장바구니에 담긴 모든 음식의 총합계 금액을 실시간으로 계산하여 표시해야 한다.
* **[REQ-STORE-303] (예산 정보)**: '남은 일일 식비'와, 현재 장바구니 합계가 '식사당 예산'을 초과했는지 여부를 텍스트로 표시해야 한다.
* **[REQ-STORE-304] (장바구니 이동)**: '장바구니 보기' 버튼을 제공하며, 탭하면 전체 장바구니 및 주문 페이지로 이동해야 한다.
⠀
**9.4 가게 세부 정보 모달**
* **[REQ-STORE-401] (모달 표시)**: 가게 페이지의 '정보' 버튼 클릭 시, 화면 위로 슬라이드되거나 중앙에 나타나는 모달 형태로 표시되어야 한다.
* **[REQ-STORE-402] (표시 정보)**: 모달에는 가게명, 요일별 상세 영업시간, 주소(복사 기능 포함), 가게 위치를 나타내는 지도, 전화 걸기 버튼, 길찾기 버튼이 포함되어야 한다.
⠀
**9.5 개별 음식 상세 페이지**
* **[REQ-STORE-501] (기본 정보 표시)**: 페이지 진입 시, 선택한 음식의 이미지, 메뉴명, 상세 설명을 표시해야 한다.
* **[REQ-STORE-502] (옵션 선택 기능)**: 음료 사이즈, 맵기 조절 등 선택 가능한 옵션이 있을 경우, 각 옵션과 그에 따른 추가 금액을 라디오 버튼 또는 유사한 형태로 제공해야 한다.
* **[REQ-STORE-503] (수량 조절 기능)**: 사용자가 구매할 수량을 조절할 수 있는 스텝퍼(stepper) UI(-, +, 숫자 표시)를 제공해야 한다.
* **[REQ-STORE-504] (총 가격 계산)**: 사용자가 선택한 옵션과 수량에 따라 총 주문 가격이 실시간으로 계산되어 '장바구니 담기' 버튼 및 하단 총액에 반영되어야 한다.
* **[REQ-DEAL-505] (장바구니 담기)**: 'O,OOO원 장바구니 담기' 버튼을 제공하여, 현재 설정된 옵션과 수량으로 해당 메뉴를 장바구니에 추가할 수 있어야 한다.
* **[REQ-DEAL-506] (장바구니 아이콘)**: 화면 우측 상단에는 현재 장바구니에 담긴 총 아이템 개수를 나타내는 배지(badge)가 있는 장바구니 아이콘을 표시해야 한다.

## 10.0 장바구니 및 지출 등록 (Cart & Expense Registration)
**10.1 장바구니 페이지 (Cart Page)**
**10.1.1 장바구니 목록**
* **[REQ-CART-111] (목록 표시)**: 사용자가 장바구니에 담은 모든 음식(FoodCart) 목록을 표시해야 한다.
* **[REQ-CART-112] (개별 항목 정보)**: 목록의 각 항목에는 음식 이미지, 음식 이름, 개당 가격, 그리고 수량에 따라 계산된 총 가격을 표시해야 한다.
* **[REQ-CART-113] (수량 조절)**: 각 항목마다 수량을 조절할 수 있는 스텝퍼(‘-’, ‘+’) 버튼을 제공해야 한다.
  * **[REQ-CART-113a] (수량 변경 시 업데이트)**: 수량 변경 시 해당 항목의 총 가격과 하단의 전체 장바구니 금액이 실시간으로 다시 계산되어야 한다.
* **[REQ-CART-114] (항목 삭제)**: 각 항목을 장바구니에서 삭제할 수 있는 삭제(휴지통) 버튼을 제공해야 한다.
* **[REQ-CART-115] (빈 장바구니 처리)**: 장바구니에 담긴 상품이 없을 경우, "장바구니가 비어있습니다."와 같은 안내 메시지를 표시해야 한다.

**10.1.2 금액 및 예산 요약**
* **[REQ-CART-121] (할인 금액 입력)**: 사용자가 할인받은 금액을 직접 입력할 수 있는 선택적(Optional) 입력 필드를 제공해야 한다. 입력된 할인 금액은 총 장바구니 금액 계산에 반영되어야 한다.
* **[REQ-CART-122] (식사 유형 선택)**: 해당 지출을 어떤 식사 유형(아침, 점심, 저녁, 기타)으로 기록할지 선택할 수 있는 드롭다운 메뉴를 제공해야 한다.
* **[REQ-CART-123] (예산 비교)**: 장바구니 총 금액을 기준으로, 구매 전/후의 예산 변화를 명확히 표시해야 한다.
  * **[REQ-CART-123a] (계산 로직)**: '구매 후 남은 예산'은 '(구매 전 예산) - (총 장바구니 금액)'으로 정확히 계산되어야 한다.
  * **[REQ-CART-123b] (예산 초과 표시)**: '구매 후 남은 예산'이 음수(-)가 될 경우, 텍스트를 붉은색으로 강조하여 예산 초과 상태임을 시각적으로 알려야 한다.
* **[REQ-CART-124] (지출 내역 추가)**: '식비 지출 내역 추가' 버튼을 제공해야 한다.
  * **[REQ-CART-124a] (동작)**: 이 버튼을 탭하면 현재 장바구니의 모든 정보(가게명, 품목, 가격, 식사 유형 등)가 하나의 지출 내역으로 저장되고, '지출 등록 완료' 페이지로 이동해야 한다.

⠀
**10.2 지출 등록 완료 페이지**
* **[REQ-CART-201] (완료 상태 표시)**: 지출 내역이 성공적으로 등록되었음을 알리는 확인 아이콘(체크 표시)과 "지출이 성공적으로 등록되었습니다!"와 같은 명확한 성공 메시지를 화면 상단에 표시해야 한다.
* **[REQ-CART-202] (주문 상세 정보)**: 방금 등록한 지출 내역의 상세 정보를 표시해야 한다.
  * **[REQ-CART-202a] (표시 항목)**: 가게명, 주문한 각 메뉴(수량 포함), 총 결제 금액, 결제 날짜 및 시각을 포함한다.
  * **[REQ-CART-202b] (날짜 수정 기능)**: 사용자가 실제 결제 시각과 기록 시각이 다를 경우를 대비해, 결제 날짜를 수정할 수 있는 '수정' 버튼을 제공해야 한다.
* **[REQ--CART-203] (예산 요약 정보)**: 이번 지출로 인해 변경된 최신 예산 상태를 요약하여 표시해야 한다.
  * **[REQ-CART-203a] (표시 항목)**: 이번 지출액(예: 아침 지출 식비), 지출 후 남은 해당 끼니 예산, 지출 후 남은 오늘 총 예산, 지출 후 남은 월별 총 예산을 포함한다.
* **[REQ-CART-204] (메인 화면 이동)**: '홈으로 돌아가기' 버튼을 제공하며, 탭하면 앱의 메인 홈 화면으로 이동해야 한다.
