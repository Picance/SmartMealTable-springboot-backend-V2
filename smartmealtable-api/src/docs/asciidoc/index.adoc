= SmartMealTable API Documentation
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 3
:sectlinks:
:snippets: ../../../build/generated-snippets

[[overview]]
= 개요

SmartMealTable API는 알뜰식탁 서비스의 백엔드 API입니다.

== API 서버 정보

|===
| 환경 | Base URL

| Production
| `https://api.smartmealtable.com`

| Staging
| `https://staging-api.smartmealtable.com`

| Development
| `http://localhost:8080`
|===

== 공통 응답 형식

모든 API는 다음과 같은 공통 응답 형식을 따릅니다.

=== 성공 응답

[source,json]
----
{
  "result": "SUCCESS",
  "data": { ... },
  "error": null
}
----

=== 에러 응답

[source,json]
----
{
  "result": "ERROR",
  "data": null,
  "error": {
    "code": "E400",
    "message": "에러 메시지",
    "data": { ... }
  }
}
----

== HTTP Status Codes

|===
| Status Code | Description

| `200 OK`
| 요청이 성공적으로 처리됨

| `201 Created`
| 리소스가 성공적으로 생성됨

| `400 Bad Request`
| 잘못된 요청

| `401 Unauthorized`
| 인증 실패

| `403 Forbidden`
| 권한 없음

| `404 Not Found`
| 리소스를 찾을 수 없음

| `409 Conflict`
| 리소스 충돌 (중복 등)

| `422 Unprocessable Entity`
| 유효성 검증 실패

| `500 Internal Server Error`
| 서버 내부 오류

| `503 Service Unavailable`
| 서비스 이용 불가
|===

[[auth]]
= 인증 (Authentication)

[[auth-signup]]
== 회원가입

=== 이메일 회원가입

`POST /api/v1/auth/signup/email`

이메일 주소를 사용하여 회원가입을 진행합니다.

==== 요청

include::{snippets}/auth/signup/email/success/http-request.adoc[]

===== 요청 필드

include::{snippets}/auth/signup/email/success/request-fields.adoc[]

==== 성공 응답 (201 Created)

include::{snippets}/auth/signup/email/success/http-response.adoc[]

===== 응답 필드

include::{snippets}/auth/signup/email/success/response-fields.adoc[]

==== 에러 응답

===== 이메일 중복 (409 Conflict)

include::{snippets}/auth/signup/email/duplicate-email/http-response.adoc[]

include::{snippets}/auth/signup/email/duplicate-email/response-fields.adoc[]

===== 유효성 검증 실패 (422 Unprocessable Entity)

include::{snippets}/auth/signup/email/validation-error/http-response.adoc[]

include::{snippets}/auth/signup/email/validation-error/response-fields.adoc[]

==== 유효성 규칙

* `name`: 2-50자
* `email`: 이메일 형식
* `password`: 8-20자, 영문+숫자+특수문자 조합

==== 예제

===== cURL

[source,bash]
----
curl -X POST https://api.smartmealtable.com/api/v1/auth/signup/email \
  -H "Content-Type: application/json" \
  -d '{
    "name": "홍길동",
    "email": "hong@example.com",
    "password": "SecureP@ss123!"
  }'
----

===== HTTPie

[source,bash]
----
http POST https://api.smartmealtable.com/api/v1/auth/signup/email \
  name="홍길동" \
  email="hong@example.com" \
  password="SecureP@ss123!"
----

[[onboarding]]
= 온보딩 (Onboarding)

회원가입 후 초기 설정 단계입니다. 프로필 설정 및 주소 등록을 포함합니다.

== 인증 요구사항

모든 온보딩 API는 JWT 인증이 필요합니다.

[source,http]
----
Authorization: Bearer {access_token}
----

[[onboarding-profile]]
== 프로필 설정

`POST /api/v1/onboarding/profile`

신규 회원의 닉네임과 소속 그룹을 설정합니다.

=== 요청

include::{snippets}/onboarding/profile/success/http-request.adoc[]

==== 요청 헤더

include::{snippets}/onboarding/profile/success/request-headers.adoc[]

==== 요청 필드

include::{snippets}/onboarding/profile/success/request-fields.adoc[]

=== 성공 응답 (200 OK)

include::{snippets}/onboarding/profile/success/http-response.adoc[]

==== 응답 필드

include::{snippets}/onboarding/profile/success/response-fields.adoc[]

=== 에러 응답

==== 닉네임 중복 (409 Conflict)

include::{snippets}/onboarding/profile/fail-duplicate-nickname/http-response.adoc[]

include::{snippets}/onboarding/profile/fail-duplicate-nickname/response-fields.adoc[]

==== 그룹 미존재 (404 Not Found)

include::{snippets}/onboarding/profile/fail-group-not-found/http-response.adoc[]

include::{snippets}/onboarding/profile/fail-group-not-found/response-fields.adoc[]

=== 예제

==== cURL

[source,bash]
----
curl -X POST https://api.smartmealtable.com/api/v1/onboarding/profile \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -H "Content-Type: application/json" \
  -d '{
    "nickname": "길동이",
    "groupId": 1
  }'
----

[[onboarding-address]]
== 주소 등록

`POST /api/v1/onboarding/address`

회원의 주소를 등록합니다. 주 거주지(Primary) 또는 부 거주지(Non-Primary)로 설정할 수 있습니다.

=== 요청 (주 거주지)

include::{snippets}/onboarding/address/register-success-primary/http-request.adoc[]

==== 요청 헤더

include::{snippets}/onboarding/address/register-success-primary/request-headers.adoc[]

==== 요청 필드

include::{snippets}/onboarding/address/register-success-primary/request-fields.adoc[]

=== 성공 응답 (201 Created)

include::{snippets}/onboarding/address/register-success-primary/http-response.adoc[]

==== 응답 필드

include::{snippets}/onboarding/address/register-success-primary/response-fields.adoc[]

=== 에러 응답

==== 필수 필드 누락 (422 Unprocessable Entity)

include::{snippets}/onboarding/address/fail-missing-fields/http-response.adoc[]

include::{snippets}/onboarding/address/fail-missing-fields/response-fields.adoc[]

==== 주소 길이 초과 (422 Unprocessable Entity)

include::{snippets}/onboarding/address/fail-address-too-long/http-response.adoc[]

include::{snippets}/onboarding/address/fail-address-too-long/response-fields.adoc[]

==== JWT 토큰 누락 (400 Bad Request)

include::{snippets}/onboarding/address/fail-missing-jwt/http-response.adoc[]

include::{snippets}/onboarding/address/fail-missing-jwt/response-fields.adoc[]

==== 잘못된 JWT 토큰 (400 Bad Request)

include::{snippets}/onboarding/address/fail-invalid-jwt/http-response.adoc[]

include::{snippets}/onboarding/address/fail-invalid-jwt/response-fields.adoc[]

=== 예제

==== cURL (주 거주지)

[source,bash]
----
curl -X POST https://api.smartmealtable.com/api/v1/onboarding/address \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -H "Content-Type: application/json" \
  -d '{
    "alias": "집",
    "lotNumberAddress": "서울특별시 강남구 테헤란로 123",
    "streetNameAddress": "서울특별시 강남구 테헤란로 427",
    "detailedAddress": "위워크 삼성역점 10층",
    "latitude": 37.5081,
    "longitude": 127.0630,
    "addressType": "HOME",
    "isPrimary": true
  }'
----

==== cURL (부 거주지)

[source,bash]
----
curl -X POST https://api.smartmealtable.com/api/v1/onboarding/address \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -H "Content-Type: application/json" \
  -d '{
    "alias": "회사",
    "streetNameAddress": "서울특별시 송파구 올림픽로 300",
    "detailedAddress": "롯데월드타워 35층",
    "latitude": 37.5125,
    "longitude": 127.1025,
    "addressType": "WORK",
    "isPrimary": false
  }'
----

[[onboarding-budget]]
== 예산 설정

온보딩 과정에서 사용자의 월별/일일/식사별 예산을 설정합니다.

=== 요청

include::{snippets}/onboarding-budget-set-success/http-request.adoc[]

==== 요청 헤더

include::{snippets}/onboarding-budget-set-success/request-headers.adoc[]

==== 요청 필드

include::{snippets}/onboarding-budget-set-success/request-fields.adoc[]

=== 성공 응답 (201 Created)

include::{snippets}/onboarding-budget-set-success/http-response.adoc[]

==== 응답 필드

include::{snippets}/onboarding-budget-set-success/response-fields.adoc[]

=== 에러 응답

==== 필수 필드 누락 (422 Unprocessable Entity)

include::{snippets}/onboarding-budget-set-validation-error/http-response.adoc[]

include::{snippets}/onboarding-budget-set-validation-error/response-fields.adoc[]

==== JWT 토큰 누락 (400 Bad Request)

include::{snippets}/onboarding-budget-set-auth-error/http-response.adoc[]

include::{snippets}/onboarding-budget-set-auth-error/response-fields.adoc[]

=== 예제

==== cURL

[source,bash]
----
curl -X POST https://api.smartmealtable.com/api/v1/onboarding/budget \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -H "Content-Type: application/json" \
  -d '{
    "monthlyBudget": 300000,
    "dailyBudget": 10000,
    "mealBudgets": {
      "BREAKFAST": 3000,
      "LUNCH": 5000,
      "DINNER": 7000
    }
  }'
----

[[store]]
= 식당 조회 (Store)

식당 목록 조회, 상세 정보 조회, 자동완성 검색 기능을 제공합니다.

== 인증 요구사항

모든 식당 API는 JWT 인증이 필요합니다.

[source,http]
----
Authorization: Bearer {access_token}
----

[[store-list]]
== 식당 목록 조회

`GET /api/v1/stores`

주변 식당 목록을 조회합니다. 기본적으로 3km 반경 내 식당을 검색하며, 키워드 검색, 정렬, 페이징을 지원합니다.

=== 요청 (기본 반경)

include::{snippets}/store/get-list-basic/http-request.adoc[]

==== 요청 헤더

include::{snippets}/store/get-list-basic/request-headers.adoc[]

=== 성공 응답 (200 OK)

include::{snippets}/store/get-list-basic/http-response.adoc[]

==== 응답 필드

include::{snippets}/store/get-list-basic/response-fields.adoc[]

=== 키워드 검색 및 필터링

식당 이름 또는 카테고리로 검색하고, 거리, 정렬 등으로 필터링할 수 있습니다.

==== 요청

include::{snippets}/store/get-list-with-filters/http-request.adoc[]

==== 요청 파라미터

include::{snippets}/store/get-list-with-filters/query-parameters.adoc[]

==== 응답

include::{snippets}/store/get-list-with-filters/http-response.adoc[]

=== 정렬 옵션

* `DISTANCE_ASC`: 거리순 (가까운 순)
* `REVIEW_COUNT_DESC`: 리뷰 많은 순
* `VIEW_COUNT_DESC`: 조회수 많은 순
* `AVERAGE_PRICE_ASC`: 가격 낮은 순
* `AVERAGE_PRICE_DESC`: 가격 높은 순

=== 예제

==== cURL (기본 조회)

[source,bash]
----
curl -X GET 'https://api.smartmealtable.com/api/v1/stores?latitude=37.5081&longitude=127.0630' \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
----

==== cURL (키워드 검색)

[source,bash]
----
curl -X GET 'https://api.smartmealtable.com/api/v1/stores?latitude=37.5081&longitude=127.0630&keyword=삼겹살&sortBy=REVIEW_COUNT_DESC&page=0&size=20' \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
----

[[store-detail]]
== 식당 상세 조회

`GET /api/v1/stores/{storeId}`

특정 식당의 상세 정보를 조회합니다. 영업시간, 임시 휴무 정보, 즐겨찾기 여부 등을 포함합니다.

=== 요청

include::{snippets}/store/get-detail-success/http-request.adoc[]

==== 경로 파라미터

include::{snippets}/store/get-detail-success/path-parameters.adoc[]

==== 요청 헤더

include::{snippets}/store/get-detail-success/request-headers.adoc[]

=== 성공 응답 (200 OK)

include::{snippets}/store/get-detail-success/http-response.adoc[]

==== 응답 필드

include::{snippets}/store/get-detail-success/response-fields.adoc[]

=== 영업시간 정보

* `dayOfWeek`: 요일 (MONDAY, TUESDAY, ..., SUNDAY)
* `isHoliday`: 정기 휴무일 여부
* `openTime`, `closeTime`: 영업시간 (정기 휴무일인 경우 null)
* `breakStartTime`, `breakEndTime`: 브레이크타임 (선택적)

=== 예제

==== cURL

[source,bash]
----
curl -X GET https://api.smartmealtable.com/api/v1/stores/1 \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
----

[[store-autocomplete]]
== 식당 자동완성 검색

`GET /api/v1/stores/autocomplete`

식당 이름 자동완성을 위한 API입니다. 입력한 키워드로 시작하는 식당을 빠르게 검색합니다. 인증이 필요 없는 공개 API입니다.

=== 요청

include::{snippets}/store/autocomplete-success/http-request.adoc[]

==== 요청 파라미터

include::{snippets}/store/autocomplete-success/query-parameters.adoc[]

=== 성공 응답 (200 OK)

include::{snippets}/store/autocomplete-success/http-response.adoc[]

==== 응답 필드

include::{snippets}/store/autocomplete-success/response-fields.adoc[]

=== 예제

==== cURL

[source,bash]
----
curl -X GET 'https://api.smartmealtable.com/api/v1/stores/autocomplete?keyword=강남&limit=5' \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
----

==== HTTPie

[source,bash]
----
http GET 'https://api.smartmealtable.com/api/v1/stores/autocomplete?keyword=강남&limit=5' \
  Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
----

[[food]]
= 음식 (Food)

음식(메뉴) 관련 API입니다. 개별 메뉴의 상세 정보를 조회할 수 있습니다.

== 인증 요구사항

모든 음식 API는 JWT 인증이 필요합니다.

[source,http]
----
Authorization: Bearer {access_token}
----

[[food-detail]]
== 메뉴 상세 조회

`GET /api/v1/foods/{foodId}`

특정 메뉴의 상세 정보를 조회합니다. 메뉴 기본 정보와 함께 판매 가게 정보, 사용자 예산과의 비교 정보를 반환합니다.

=== 요청

include::{snippets}/food/get-food-detail/http-request.adoc[]

==== 요청 헤더

include::{snippets}/food/get-food-detail/request-headers.adoc[]

==== 경로 파라미터

include::{snippets}/food/get-food-detail/path-parameters.adoc[]

=== 성공 응답 (200 OK)

include::{snippets}/food/get-food-detail/http-response.adoc[]

==== 응답 필드

include::{snippets}/food/get-food-detail/response-fields.adoc[]

=== 에러 응답

==== 메뉴 미존재 (404 Not Found)

include::{snippets}/food/get-food-detail-not-found/http-response.adoc[]

include::{snippets}/food/get-food-detail-not-found/response-fields.adoc[]

=== 예제

==== cURL

[source,bash]
----
curl -X GET 'https://api.smartmealtable.com/api/v1/foods/201' \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -H "Content-Type: application/json"
----

==== HTTPie

[source,bash]
----
http GET 'https://api.smartmealtable.com/api/v1/foods/201' \
  Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
----

[[auth-login]]
== 로그인

=== 이메일 로그인

`POST /api/v1/auth/login/email`

이메일과 비밀번호로 로그인합니다.

==== 요청

include::{snippets}/auth/login/email/success/http-request.adoc[]

===== 요청 필드

include::{snippets}/auth/login/email/success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/auth/login/email/success/http-response.adoc[]

===== 응답 필드

include::{snippets}/auth/login/email/success/response-fields.adoc[]

==== 에러 응답

===== 잘못된 이메일 (401 Unauthorized)

include::{snippets}/auth/login/email/invalid-email/http-response.adoc[]

include::{snippets}/auth/login/email/invalid-email/response-fields.adoc[]

===== 잘못된 비밀번호 (401 Unauthorized)

include::{snippets}/auth/login/email/invalid-password/http-response.adoc[]

include::{snippets}/auth/login/email/invalid-password/response-fields.adoc[]

===== 유효성 검증 실패 (422 Unprocessable Entity)

include::{snippets}/auth/login/email/validation-error/http-response.adoc[]

include::{snippets}/auth/login/email/validation-error/response-fields.adoc[]

=== 카카오 로그인

`POST /api/v1/auth/login/kakao`

카카오 OAuth 인증 코드로 로그인합니다.

==== 요청

include::{snippets}/auth/login/kakao/new-member/http-request.adoc[]

===== 요청 필드

include::{snippets}/auth/login/kakao/new-member/request-fields.adoc[]

==== 성공 응답 - 신규 회원 (200 OK)

include::{snippets}/auth/login/kakao/new-member/http-response.adoc[]

===== 응답 필드

include::{snippets}/auth/login/kakao/new-member/response-fields.adoc[]

==== 에러 응답

===== 인증 코드 누락 (422 Unprocessable Entity)

include::{snippets}/auth/login/kakao/empty-code/http-response.adoc[]

include::{snippets}/auth/login/kakao/empty-code/response-fields.adoc[]

===== 유효하지 않은 인증 코드 (401 Unauthorized)

include::{snippets}/auth/login/kakao/invalid-code/http-response.adoc[]

include::{snippets}/auth/login/kakao/invalid-code/response-fields.adoc[]

==== 참고

*기존 회원 로그인:* 기존 회원이 카카오 계정으로 로그인할 경우, 응답의 `isNewMember` 필드는 `false`, `isOnboardingComplete`는 `true`입니다.

=== 구글 로그인

`POST /api/v1/auth/login/google`

구글 OAuth 인증 코드로 로그인합니다.

==== 요청

include::{snippets}/auth/login/google/new-member/http-request.adoc[]

===== 요청 필드

include::{snippets}/auth/login/google/new-member/request-fields.adoc[]

==== 성공 응답 - 신규 회원 (200 OK)

include::{snippets}/auth/login/google/new-member/http-response.adoc[]

===== 응답 필드

include::{snippets}/auth/login/google/new-member/response-fields.adoc[]

==== 에러 응답

===== 인증 코드 누락 (422 Unprocessable Entity)

include::{snippets}/auth/login/google/empty-code/http-response.adoc[]

include::{snippets}/auth/login/google/empty-code/response-fields.adoc[]

===== 유효하지 않은 인증 코드 (401 Unauthorized)

include::{snippets}/auth/login/google/invalid-code/http-response.adoc[]

include::{snippets}/auth/login/google/invalid-code/response-fields.adoc[]

==== 참고

*기존 회원 로그인:* 기존 회원이 구글 계정으로 로그인할 경우, 응답의 `isNewMember` 필드는 `false`, `isOnboardingComplete`는 `true`입니다.

[[auth-token]]
== 토큰 관리

=== 토큰 갱신

`POST /api/v1/auth/refresh`

Refresh Token을 사용하여 새로운 Access Token을 발급받습니다.

==== 요청

include::{snippets}/auth/refresh/success/http-request.adoc[]

===== 요청 필드

include::{snippets}/auth/refresh/success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/auth/refresh/success/http-response.adoc[]

===== 응답 필드

include::{snippets}/auth/refresh/success/response-fields.adoc[]

==== 에러 응답

===== 유효하지 않은 Refresh Token (401 Unauthorized)

include::{snippets}/auth/refresh/invalid-token/http-response.adoc[]

include::{snippets}/auth/refresh/invalid-token/response-fields.adoc[]

=== 로그아웃

`POST /api/v1/auth/logout`

현재 사용자를 로그아웃합니다.

==== 요청

include::{snippets}/auth/logout/success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/auth/logout/success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/auth/logout/success/http-response.adoc[]

[[auth-email]]
== 이메일 검증

=== 이메일 중복 확인

`GET /api/v1/auth/check-email`

회원가입 전 이메일 중복 여부를 확인합니다.

==== 요청

include::{snippets}/auth/check-email/available/http-request.adoc[]

===== 요청 파라미터

include::{snippets}/auth/check-email/available/query-parameters.adoc[]

==== 성공 응답 - 사용 가능 (200 OK)

include::{snippets}/auth/check-email/available/http-response.adoc[]

===== 응답 필드

include::{snippets}/auth/check-email/available/response-fields.adoc[]

==== 성공 응답 - 이미 사용 중 (200 OK)

include::{snippets}/auth/check-email/duplicate/http-response.adoc[]

===== 응답 필드

include::{snippets}/auth/check-email/duplicate/response-fields.adoc[]

[[members]]
= 회원 관리 (Members)

회원 정보 조회, 수정, 비밀번호 변경, 회원 탈퇴 등의 기능을 제공합니다.

== 인증 요구사항

모든 회원 관리 API는 JWT 인증이 필요합니다.

[[members-profile]]
== 회원 정보

=== 회원 정보 조회

`GET /api/v1/members/me`

현재 로그인한 회원의 정보를 조회합니다.

==== 요청

include::{snippets}/members/get-profile/success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/members/get-profile/success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/members/get-profile/success/http-response.adoc[]

===== 응답 필드

include::{snippets}/members/get-profile/success/response-fields.adoc[]

=== 회원 정보 수정

`PUT /api/v1/members/me`

현재 로그인한 회원의 정보를 수정합니다.

==== 요청

include::{snippets}/members/update-profile/success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/members/update-profile/success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/members/update-profile/success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/members/update-profile/success/http-response.adoc[]

===== 응답 필드

include::{snippets}/members/update-profile/success/response-fields.adoc[]

==== 에러 응답

===== 잘못된 닉네임 (422 Unprocessable Entity)

include::{snippets}/members/update-profile/invalid-nickname/http-response.adoc[]

include::{snippets}/members/update-profile/invalid-nickname/response-fields.adoc[]

[[members-password]]
== 비밀번호 관리

=== 비밀번호 변경

`PUT /api/v1/members/me/password`

현재 로그인한 회원의 비밀번호를 변경합니다.

==== 요청

include::{snippets}/members/change-password/success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/members/change-password/success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/members/change-password/success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/members/change-password/success/http-response.adoc[]

==== 에러 응답

===== 현재 비밀번호 불일치 (400 Bad Request)

include::{snippets}/members/change-password/wrong-current-password/http-response.adoc[]

include::{snippets}/members/change-password/wrong-current-password/response-fields.adoc[]

===== 유효하지 않은 새 비밀번호 (422 Unprocessable Entity)

include::{snippets}/members/change-password/invalid-new-password/http-response.adoc[]

include::{snippets}/members/change-password/invalid-new-password/response-fields.adoc[]

[[password-expiry]]
== 비밀번호 만료 관리

=== 비밀번호 만료 상태 조회

`GET /api/v1/members/me/password-expiry`

비밀번호 만료 상태를 조회합니다.

==== 요청

include::{snippets}/password-expiry/get-status-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/password-expiry/get-status-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/password-expiry/get-status-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/password-expiry/get-status-success/response-fields.adoc[]

=== 비밀번호 만료일 연장

`POST /api/v1/members/me/password-expiry/extend`

비밀번호 만료일을 90일 연장합니다.

==== 요청

include::{snippets}/password-expiry/extend-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/password-expiry/extend-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/password-expiry/extend-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/password-expiry/extend-success/response-fields.adoc[]

[[members-withdraw]]
== 회원 탈퇴

=== 회원 탈퇴

`DELETE /api/v1/members/me`

현재 로그인한 회원을 탈퇴 처리합니다.

==== 요청

include::{snippets}/members/withdraw/success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/members/withdraw/success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/members/withdraw/success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/members/withdraw/success/http-response.adoc[]

==== 에러 응답

===== 비밀번호 불일치 (400 Bad Request)

include::{snippets}/members/withdraw/wrong-password/http-response.adoc[]

include::{snippets}/members/withdraw/wrong-password/response-fields.adoc[]

[[social-account]]
== 소셜 계정 연동

=== 연동된 소셜 계정 목록 조회

`GET /api/v1/members/me/social-accounts`

현재 회원에게 연동된 소셜 계정 목록을 조회합니다.

==== 요청

include::{snippets}/social-account/get-list-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/social-account/get-list-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/social-account/get-list-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/social-account/get-list-success/response-fields.adoc[]

=== 소셜 계정 추가 연동

`POST /api/v1/members/me/social-accounts`

새로운 소셜 계정을 연동합니다.

==== 요청

include::{snippets}/social-account/add-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/social-account/add-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/social-account/add-success/request-fields.adoc[]

==== 성공 응답 (201 Created)

include::{snippets}/social-account/add-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/social-account/add-success/response-fields.adoc[]

==== 에러 응답

===== 이미 연동된 계정 (409 Conflict)

include::{snippets}/social-account/add-duplicate/http-response.adoc[]

include::{snippets}/social-account/add-duplicate/response-fields.adoc[]

=== 소셜 계정 연동 해제

`DELETE /api/v1/members/me/social-accounts/{provider}`

연동된 소셜 계정을 해제합니다.

==== 요청

include::{snippets}/social-account/remove-success/http-request.adoc[]

===== 경로 파라미터

include::{snippets}/social-account/remove-success/path-parameters.adoc[]

===== 요청 헤더

include::{snippets}/social-account/remove-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/social-account/remove-success/http-response.adoc[]

==== 에러 응답

===== 마지막 로그인 수단 (400 Bad Request)

include::{snippets}/social-account/remove-last-login-method/http-response.adoc[]

include::{snippets}/social-account/remove-last-login-method/response-fields.adoc[]

[[address]]
== 주소 관리

=== 주소 목록 조회

`GET /api/v1/members/me/addresses`

현재 회원의 등록된 주소 목록을 조회합니다.

==== 요청

include::{snippets}/address-get-addresses-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/address-get-addresses-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/address-get-addresses-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/address-get-addresses-success/response-fields.adoc[]

=== 주소 추가

`POST /api/v1/members/me/addresses`

새로운 주소를 추가합니다.

==== 요청

include::{snippets}/address-add-address-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/address-add-address-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/address-add-address-success/request-fields.adoc[]

==== 성공 응답 (201 Created)

include::{snippets}/address-add-address-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/address-add-address-success/response-fields.adoc[]

=== 주소 수정

`PUT /api/v1/members/me/addresses/{addressId}`

등록된 주소를 수정합니다.

==== 요청

include::{snippets}/address-update-address-success/http-request.adoc[]

===== 경로 파라미터

include::{snippets}/address-update-address-success/path-parameters.adoc[]

===== 요청 헤더

include::{snippets}/address-update-address-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/address-update-address-success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/address-update-address-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/address-update-address-success/response-fields.adoc[]

=== 주 거주지 설정

`PUT /api/v1/members/me/addresses/{addressId}/primary`

주소를 주 거주지로 설정합니다.

==== 요청

include::{snippets}/address-set-primary-address-success/http-request.adoc[]

===== 경로 파라미터

include::{snippets}/address-set-primary-address-success/path-parameters.adoc[]

===== 요청 헤더

include::{snippets}/address-set-primary-address-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/address-set-primary-address-success/http-response.adoc[]

=== 주소 삭제

`DELETE /api/v1/members/me/addresses/{addressId}`

등록된 주소를 삭제합니다.

==== 요청

include::{snippets}/address-delete-address-success/http-request.adoc[]

===== 경로 파라미터

include::{snippets}/address-delete-address-success/path-parameters.adoc[]

===== 요청 헤더

include::{snippets}/address-delete-address-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/address-delete-address-success/http-response.adoc[]

[[preference]]
== 음식 취향 관리

=== 취향 정보 조회

`GET /api/v1/members/me/preferences`

현재 회원의 음식 취향 정보를 조회합니다.

==== 요청

include::{snippets}/preference-get-preferences-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/preference-get-preferences-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/preference-get-preferences-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/preference-get-preferences-success/response-fields.adoc[]

=== 카테고리 선호도 수정

`PUT /api/v1/members/me/preferences/categories`

음식 카테고리별 선호도를 수정합니다.

==== 요청

include::{snippets}/preference-update-category-preferences-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/preference-update-category-preferences-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/preference-update-category-preferences-success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/preference-update-category-preferences-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/preference-update-category-preferences-success/response-fields.adoc[]

=== 개별 음식 선호도 추가

`POST /api/v1/members/me/preferences/foods`

특정 음식에 대한 선호도를 추가합니다.

==== 요청

include::{snippets}/preference-add-food-preference-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/preference-add-food-preference-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/preference-add-food-preference-success/request-fields.adoc[]

==== 성공 응답 (201 Created)

include::{snippets}/preference-add-food-preference-success/http-response.adoc[]

=== 개별 음식 선호도 수정

`PUT /api/v1/members/me/preferences/foods/{foodId}`

특정 음식에 대한 선호도를 수정합니다.

==== 요청

include::{snippets}/preference-update-food-preference-success/http-request.adoc[]

===== 경로 파라미터

include::{snippets}/preference-update-food-preference-success/path-parameters.adoc[]

===== 요청 헤더

include::{snippets}/preference-update-food-preference-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/preference-update-food-preference-success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/preference-update-food-preference-success/http-response.adoc[]

=== 개별 음식 선호도 삭제

`DELETE /api/v1/members/me/preferences/foods/{foodId}`

특정 음식에 대한 선호도를 삭제합니다.

==== 요청

include::{snippets}/preference-delete-food-preference-success/http-request.adoc[]

===== 경로 파라미터

include::{snippets}/preference-delete-food-preference-success/path-parameters.adoc[]

===== 요청 헤더

include::{snippets}/preference-delete-food-preference-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/preference-delete-food-preference-success/http-response.adoc[]


[[onboarding-auxiliary]]
== 온보딩 보조 API

=== 그룹 목록 조회

`GET /api/v1/groups`

사용자가 선택할 수 있는 그룹(소속) 목록을 조회합니다.

==== 요청

include::{snippets}/group/search-groups-all/http-request.adoc[]

===== 요청 파라미터

include::{snippets}/group/search-groups-all/query-parameters.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/group/search-groups-all/http-response.adoc[]

===== 응답 필드

include::{snippets}/group/search-groups-all/response-fields.adoc[]

==== 예제

===== 모든 그룹 조회

include::{snippets}/group/search-groups-all/http-request.adoc[]

===== 타입별 조회

include::{snippets}/group/search-groups-by-type/http-request.adoc[]

===== 이름 검색

include::{snippets}/group/search-groups-by-name/http-request.adoc[]

=== 카테고리 목록 조회

`GET /api/v1/categories`

음식 카테고리 목록을 조회합니다.

==== 요청

include::{snippets}/category/get-categories-success/http-request.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/category/get-categories-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/category/get-categories-success/response-fields.adoc[]

=== 약관 목록 조회

`GET /api/v1/policies`

서비스 약관 목록을 조회합니다.

==== 요청

include::{snippets}/policy/get-policies-success/http-request.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/policy/get-policies-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/policy/get-policies-success/response-fields.adoc[]

=== 약관 상세 조회

`GET /api/v1/policies/{policyId}`

특정 약관의 상세 내용을 조회합니다.

==== 요청

include::{snippets}/policy/get-policy-success/http-request.adoc[]

===== 경로 파라미터

include::{snippets}/policy/get-policy-success/path-parameters.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/policy/get-policy-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/policy/get-policy-success/response-fields.adoc[]

=== 온보딩용 음식 목록 조회

`GET /api/v1/onboarding/foods`

온보딩 과정에서 사용자에게 보여줄 음식 목록을 조회합니다.

==== 요청

include::{snippets}/onboarding-foods-get/http-request.adoc[]

===== 쿼리 파라미터

include::{snippets}/onboarding-foods-get/query-parameters.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/onboarding-foods-get/http-response.adoc[]

===== 응답 필드

include::{snippets}/onboarding-foods-get/response-fields.adoc[]

=== 개별 음식 선호도 저장

`PUT /api/v1/onboarding/food-preferences`

온보딩 과정에서 선택한 음식 선호도를 저장합니다.

==== 요청

include::{snippets}/onboarding-food-preferences-put/http-request.adoc[]

===== 요청 필드

include::{snippets}/onboarding-food-preferences-put/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/onboarding-food-preferences-put/http-response.adoc[]

===== 응답 필드

include::{snippets}/onboarding-food-preferences-put/response-fields.adoc[]

=== 개별 음식 선호도 조회

`GET /api/v1/onboarding/food-preferences`

저장된 개별 음식 선호도를 다시 불러옵니다.

==== 요청 헤더

include::{snippets}/onboarding-food-preferences-get/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/onboarding-food-preferences-get/http-response.adoc[]

===== 응답 필드

include::{snippets}/onboarding-food-preferences-get/response-fields.adoc[]

[[budget]]
= 예산 관리 (Budget)

월별/일별 예산 조회 및 수정 기능을 제공합니다.

== 인증 요구사항

모든 예산 관리 API는 JWT 인증이 필요합니다.

[[budget-monthly]]
== 월별 예산

=== 월별 예산 조회

`GET /api/v1/budgets/monthly`

특정 월의 예산 정보를 조회합니다.

==== 요청

include::{snippets}/budget/get-monthly-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/budget/get-monthly-success/request-headers.adoc[]

===== 요청 파라미터

include::{snippets}/budget/get-monthly-success/query-parameters.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/budget/get-monthly-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/budget/get-monthly-success/response-fields.adoc[]

==== 에러 응답

===== 인증 실패 (401 Unauthorized)

include::{snippets}/budget/get-monthly-unauthorized/http-response.adoc[]

include::{snippets}/budget/get-monthly-unauthorized/response-fields.adoc[]

===== 유효하지 않은 파라미터 (400 Bad Request)

include::{snippets}/budget/get-monthly-invalid-params/http-response.adoc[]

include::{snippets}/budget/get-monthly-invalid-params/response-fields.adoc[]

=== 월별 예산 수정

`PUT /api/v1/budgets/monthly`

월별 예산을 수정합니다.

==== 요청

include::{snippets}/budget/update-monthly-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/budget/update-monthly-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/budget/update-monthly-success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/budget/update-monthly-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/budget/update-monthly-success/response-fields.adoc[]

==== 에러 응답

===== 유효성 검증 실패 (422 Unprocessable Entity)

include::{snippets}/budget/update-monthly-validation/http-response.adoc[]

include::{snippets}/budget/update-monthly-validation/response-fields.adoc[]

[[budget-daily]]
== 일별 예산

=== 일별 예산 조회

`GET /api/v1/budgets/daily`

특정 날짜의 예산 정보를 조회합니다.

==== 요청

include::{snippets}/budget/get-daily-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/budget/get-daily-success/request-headers.adoc[]

===== 요청 파라미터

include::{snippets}/budget/get-daily-success/query-parameters.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/budget/get-daily-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/budget/get-daily-success/response-fields.adoc[]

=== 일별 예산 수정

`PUT /api/v1/budgets/daily`

특정 날짜의 예산을 수정합니다.

==== 요청

include::{snippets}/budget/update-daily-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/budget/update-daily-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/budget/update-daily-success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/budget/update-daily-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/budget/update-daily-success/response-fields.adoc[]

=== 특정 날짜 예산 설정 (일괄 적용 옵션)

`PUT /api/v1/budgets/daily/{date}`

특정 날짜의 예산을 설정하며, `applyForward` 파라미터를 통해 해당 날짜부터 연말까지의 예산을 일괄 적용할 수 있습니다.

==== 요청

include::{snippets}/budget/update-daily-success/http-request.adoc[]

===== 경로 파라미터

include::{snippets}/budget/update-daily-success/path-parameters.adoc[]

===== 요청 헤더

include::{snippets}/budget/update-daily-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/budget/update-daily-success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/budget/update-daily-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/budget/update-daily-success/response-fields.adoc[]

==== 에러 응답

===== 날짜 형식 오류 (400 Bad Request)

> 날짜 형식이 YYYY-MM-DD 형식이 아닐 경우 발생하는 에러입니다.

==== 참고

* `applyForward: true`를 선택하면, 해당 날짜부터 미래의 모든 날짜(연말까지)에 동일한 예산이 일괄 적용됩니다.
* 이미 개별 설정된 날짜가 있더라도 덮어씌워집니다.
* 응답의 `updatedCount` 필드는 일괄 적용된 날짜의 개수를 나타냅니다.

[[expenditure]]
= 지출 내역 (Expenditure)

SMS 파싱, 지출 내역 CRUD, 통계 조회 기능을 제공합니다.

== 인증 요구사항

모든 지출 내역 API는 JWT 인증이 필요합니다.

[[expenditure-parse]]
== SMS 파싱

=== SMS 지출 내역 파싱

`POST /api/v1/expenditures/parse-sms`

카드 결제 SMS 메시지를 파싱하여 지출 내역 정보를 추출합니다.

==== 요청

include::{snippets}/expenditure/parse-sms-success/http-request.adoc[]

===== 요청 필드

include::{snippets}/expenditure/parse-sms-success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/expenditure/parse-sms-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/expenditure/parse-sms-success/response-fields.adoc[]

==== 지원 카드사

===== NH농협카드

include::{snippets}/expenditure/parse-sms-nh-card-success/http-request.adoc[]

==== 에러 응답

===== 잘못된 SMS 형식 (400 Bad Request)

include::{snippets}/expenditure/parse-sms-invalid-format-failed/http-response.adoc[]

include::{snippets}/expenditure/parse-sms-invalid-format-failed/response-fields.adoc[]

[[expenditure-crud]]
== 지출 내역 관리

=== 지출 내역 등록

`POST /api/v1/expenditures`

새로운 지출 내역을 등록합니다.

==== 요청 (항목 포함)

include::{snippets}/expenditure/create-expenditure-with-items-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/expenditure/create-expenditure-with-items-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/expenditure/create-expenditure-with-items-success/request-fields.adoc[]

==== 성공 응답 (201 Created)

include::{snippets}/expenditure/create-expenditure-with-items-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/expenditure/create-expenditure-with-items-success/response-fields.adoc[]

==== 요청 (항목 없음)

include::{snippets}/expenditure/create-expenditure-without-items-success/http-request.adoc[]

==== 에러 응답

===== 유효성 검증 실패 (422 Unprocessable Entity)

include::{snippets}/expenditure/create-expenditure-validation-failed/http-response.adoc[]

include::{snippets}/expenditure/create-expenditure-validation-failed/response-fields.adoc[]

=== 지출 내역 목록 조회

`GET /api/v1/expenditures`

지출 내역 목록을 조회합니다.

==== 요청

include::{snippets}/expenditure/get-list-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/expenditure/get-list-success/request-headers.adoc[]

===== 요청 파라미터

include::{snippets}/expenditure/get-list-success/query-parameters.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/expenditure/get-list-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/expenditure/get-list-success/response-fields.adoc[]

==== 필터링

===== 끼니별 조회

include::{snippets}/expenditure/get-list-with-meal-type-filter/http-request.adoc[]

=== 지출 내역 상세 조회

`GET /api/v1/expenditures/{expenditureId}`

특정 지출 내역의 상세 정보를 조회합니다.

==== 요청

include::{snippets}/expenditure/get-detail-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/expenditure/get-detail-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/expenditure/get-detail-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/expenditure/get-detail-success/response-fields.adoc[]

==== 에러 응답

===== 지출 내역 미존재 (404 Not Found)

include::{snippets}/expenditure/get-detail-not-found/http-response.adoc[]

include::{snippets}/expenditure/get-detail-not-found/response-fields.adoc[]

=== 지출 내역 수정

`PUT /api/v1/expenditures/{expenditureId}`

지출 내역을 수정합니다.

==== 요청

include::{snippets}/expenditure/update-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/expenditure/update-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/expenditure/update-success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/expenditure/update-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/expenditure/update-success/response-fields.adoc[]

=== 지출 내역 삭제

`DELETE /api/v1/expenditures/{expenditureId}`

지출 내역을 삭제합니다.

==== 요청

include::{snippets}/expenditure/delete-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/expenditure/delete-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/expenditure/delete-success/http-response.adoc[]

[[expenditure-statistics]]
== 지출 통계

=== 일별 지출 통계 조회

`GET /api/v1/expenditures/statistics/daily`

일별 지출 통계를 조회합니다.

==== 요청

include::{snippets}/expenditure/get-statistics-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/expenditure/get-statistics-success/request-headers.adoc[]

===== 요청 파라미터

include::{snippets}/expenditure/get-statistics-success/query-parameters.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/expenditure/get-statistics-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/expenditure/get-statistics-success/response-fields.adoc[]


[[recommendation]]
= 추천 시스템 (Recommendation)

개인화된 식당 추천 기능을 제공합니다.

== 인증 요구사항

모든 추천 API는 JWT 인증이 필요합니다.

[[recommendation-list]]
== 추천 목록 조회

=== 기본 추천

`GET /api/v1/recommendations`

사용자 위치 기반으로 개인화된 식당을 추천합니다.

검색어를 입력하면 **음식점 이름** 또는 **음식 이름**으로 검색할 수 있습니다.

==== 요청

include::{snippets}/recommendation-list-success-default/http-request.adoc[]

===== 요청 헤더

include::{snippets}/recommendation-list-success-default/request-headers.adoc[]

===== 요청 파라미터 (필수)

|===
| Parameter | Type | Description

| latitude
| BigDecimal
| 현재 위도 (WGS84, -90 ~ 90)

| longitude
| BigDecimal
| 현재 경도 (WGS84, -180 ~ 180)
|===

===== 요청 파라미터 (선택)

|===
| Parameter | Type | Description | Default

| keyword
| String
| 검색어 (음식점 이름 또는 음식 이름)
| -

| radius
| Double
| 검색 반경 (km, 0.1 ~ 10)
| 0.5

| sortBy
| String
| 정렬 기준 (SCORE/DISTANCE/REVIEW/PRICE_LOW/PRICE_HIGH/FAVORITE/INTEREST_HIGH/INTEREST_LOW)
| SCORE

| includeDisliked
| Boolean
| 불호 음식 포함 여부
| false

| openNow
| Boolean
| 영업 중인 가게만 조회
| false

| storeType
| String
| 가게 타입 필터 (ALL/CAMPUS_RESTAURANT/RESTAURANT)
| ALL

| page
| Integer
| 페이지 번호 (오프셋 기반 페이징, 0부터 시작)
| 0

| size
| Integer
| 페이지 크기 (1 ~ 100)
| 20

| lastId
| Long
| 이전 응답의 마지막 가게 ID (커서 기반 페이징용)
| -

| limit
| Integer
| 조회 항목 수 (커서 기반 페이징용, 1 ~ 100)
| 20
|===

*파라미터 팁:*
* 커서 기반 페이징: `lastId`, `limit` 사용 (무한 스크롤 권장)
* 오프셋 기반 페이징: `page`, `size` 사용 (하위 호환성)

==== 성공 응답 (200 OK)

include::{snippets}/recommendation-list-success-default/http-response.adoc[]

===== 응답 필드

include::{snippets}/recommendation-list-success-default/response-fields.adoc[]

=== 검색 사용 예시

검색어를 통해 음식점 이름이나 음식 이름으로 추천 결과를 필터링할 수 있습니다.

**음식점 이름 검색:**
```
GET /api/v1/recommendations?latitude=37.5&longitude=127.0&keyword=교촌치킨&limit=20
```

**음식 이름 검색:**
```
GET /api/v1/recommendations?latitude=37.5&longitude=127.0&keyword=김치찌개&limit=20
```

**검색 + 필터링:**
```
GET /api/v1/recommendations?latitude=37.5&longitude=127.0&keyword=파스타&openNow=true&sortBy=PRICE_LOW
```

**검색 + 커서 페이징:**
```
GET /api/v1/recommendations?latitude=37.5&longitude=127.0&keyword=치킨&lastId=50&limit=20
```

=== 필터링 및 정렬

==== 요청

include::{snippets}/recommendation-list-success-with-filters/http-request.adoc[]

==== 응답

include::{snippets}/recommendation-list-success-with-filters/http-response.adoc[]

==== 정렬 옵션

* `SCORE`: 추천 점수순 (기본값)
* `DISTANCE`: 거리순
* `REVIEW`: 리뷰 많은 순
* `PRICE_LOW`: 가격 낮은 순
* `PRICE_HIGH`: 가격 높은 순
* `FAVORITE`: 즐겨찾기 우선
* `INTEREST_HIGH`: 관심도 높은 순
* `INTEREST_LOW`: 관심도 낮은 순

**참고:**
* 검색어가 없으면 기존과 동일하게 모든 추천 결과를 반환합니다.
* 검색 결과에도 추천 점수, 필터링, 정렬이 모두 적용됩니다.

==== 에러 응답

===== 필수 파라미터 누락 (400 Bad Request)

include::{snippets}/recommendation-list-fail-missing-latitude/http-response.adoc[]

include::{snippets}/recommendation-list-fail-missing-latitude/response-fields.adoc[]

===== 유효하지 않은 좌표 (400 Bad Request)

include::{snippets}/recommendation-list-fail-invalid-latitude/http-response.adoc[]

include::{snippets}/recommendation-list-fail-invalid-latitude/response-fields.adoc[]

[[recommendation-score]]
== 추천 점수 상세

=== 추천 점수 상세 조회

`GET /api/v1/recommendations/{storeId}/score-detail`

특정 식당의 추천 점수 상세 정보를 조회합니다.

==== 요청

include::{snippets}/recommendation-score-detail-success/http-request.adoc[]

===== 경로 파라미터

include::{snippets}/recommendation-score-detail-success/path-parameters.adoc[]

===== 요청 헤더

include::{snippets}/recommendation-score-detail-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/recommendation-score-detail-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/recommendation-score-detail-success/response-fields.adoc[]

==== 에러 응답

===== 식당 미존재 (404 Not Found)

include::{snippets}/recommendation-score-detail-fail-not-found/http-response.adoc[]

include::{snippets}/recommendation-score-detail-fail-not-found/response-fields.adoc[]

[[recommendation-type]]
== 추천 유형 변경

=== 추천 유형 변경

`PUT /api/v1/recommendations/type`

사용자의 추천 유형을 변경합니다.

==== 요청

include::{snippets}/recommendation-type-update-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/recommendation-type-update-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/recommendation-type-update-success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/recommendation-type-update-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/recommendation-type-update-success/response-fields.adoc[]

==== 추천 유형

* `SAVER`: 절약형 - 가성비 중심
* `BALANCED`: 균형형 - 가격과 품질의 균형
* `ADVENTURER`: 탐험형 - 새로운 경험 중시

==== 에러 응답

===== 유효하지 않은 유형 (400 Bad Request)

include::{snippets}/recommendation-type-update-fail-invalid-type/http-response.adoc[]

include::{snippets}/recommendation-type-update-fail-invalid-type/response-fields.adoc[]

[[favorite]]
= 즐겨찾기 (Favorite)

식당 즐겨찾기 관리 기능을 제공합니다.

== 인증 요구사항

모든 즐겨찾기 API는 JWT 인증이 필요합니다.

[[favorite-add]]
== 즐겨찾기 추가

=== 즐겨찾기 추가

`POST /api/v1/favorites`

식당을 즐겨찾기에 추가합니다.

==== 요청

include::{snippets}/favorite-add-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/favorite-add-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/favorite-add-success/request-fields.adoc[]

==== 성공 응답 (201 Created)

include::{snippets}/favorite-add-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/favorite-add-success/response-fields.adoc[]

==== 에러 응답

===== 이미 즐겨찾기된 식당 (409 Conflict)

include::{snippets}/favorite-add-conflict/http-response.adoc[]

include::{snippets}/favorite-add-conflict/response-fields.adoc[]

===== 식당 미존재 (404 Not Found)

include::{snippets}/favorite-add-not-found/http-response.adoc[]

include::{snippets}/favorite-add-not-found/response-fields.adoc[]

[[favorite-list]]
== 즐겨찾기 목록

=== 즐겨찾기 목록 조회

`GET /api/v1/favorites`

즐겨찾기 목록을 조회합니다.

==== 요청

include::{snippets}/favorite-get-list-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/favorite-get-list-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/favorite-get-list-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/favorite-get-list-success/response-fields.adoc[]

[[favorite-reorder]]
== 즐겨찾기 순서 변경

=== 즐겨찾기 순서 변경

`PUT /api/v1/favorites/reorder`

즐겨찾기 목록의 순서를 변경합니다.

==== 요청

include::{snippets}/favorite-reorder-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/favorite-reorder-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/favorite-reorder-success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/favorite-reorder-success/http-response.adoc[]

[[favorite-delete]]
== 즐겨찾기 삭제

=== 즐겨찾기 삭제

`DELETE /api/v1/favorites/{favoriteId}`

즐겨찾기를 삭제합니다.

==== 요청

include::{snippets}/favorite-delete-success/http-request.adoc[]

===== 경로 파라미터

include::{snippets}/favorite-delete-success/path-parameters.adoc[]

===== 요청 헤더

include::{snippets}/favorite-delete-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/favorite-delete-success/http-response.adoc[]

==== 에러 응답

===== 즐겨찾기 미존재 (404 Not Found)

include::{snippets}/favorite-delete-not-found/http-response.adoc[]

include::{snippets}/favorite-delete-not-found/response-fields.adoc[]

[[home]]
= 홈 화면 (Home)

홈 대시보드, 온보딩 상태 조회 등의 기능을 제공합니다.

== 인증 요구사항

모든 홈 화면 API는 JWT 인증이 필요합니다.

[[home-dashboard]]
== 홈 대시보드

=== 홈 대시보드 조회

`GET /api/v1/home/dashboard`

홈 화면 대시보드 정보를 조회합니다.

==== 요청

include::{snippets}/home/dashboard-get-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/home/dashboard-get-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/home/dashboard-get-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/home/dashboard-get-success/response-fields.adoc[]

[[home-onboarding-status]]
== 온보딩 상태

=== 온보딩 상태 조회

`GET /api/v1/members/me/onboarding-status`

현재 회원의 온보딩 완료 상태를 조회합니다.

==== 요청

include::{snippets}/home/onboarding-status-get-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/home/onboarding-status-get-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/home/onboarding-status-get-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/home/onboarding-status-get-success/response-fields.adoc[]

[[home-budget-confirm]]
== 월간 예산 확인

=== 월간 예산 확인

`POST /api/v1/members/me/monthly-budget-confirmed`

월간 예산을 확인했음을 기록합니다.

==== 요청

include::{snippets}/home/monthly-budget-confirm-post-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/home/monthly-budget-confirm-post-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/home/monthly-budget-confirm-post-success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/home/monthly-budget-confirm-post-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/home/monthly-budget-confirm-post-success/response-fields.adoc[]

[[cart]]
= 장바구니 (Cart)

장바구니 CRUD 및 관리 기능을 제공합니다.

== 인증 요구사항

모든 장바구니 API는 JWT 인증이 필요합니다.

[[cart-add]]
== 장바구니 추가

=== 장바구니에 항목 추가

`POST /api/v1/carts/items`

장바구니에 음식을 추가합니다.

==== 요청

include::{snippets}/cart-add-item-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/cart-add-item-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/cart-add-item-success/request-fields.adoc[]

==== 성공 응답 (201 Created)

include::{snippets}/cart-add-item-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/cart-add-item-success/response-fields.adoc[]

[[cart-list]]
== 장바구니 조회

=== 전체 장바구니 조회

`GET /api/v1/carts`

현재 회원의 전체 장바구니를 조회합니다.

==== 요청

include::{snippets}/cart-get-all-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/cart-get-all-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/cart-get-all-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/cart-get-all-success/response-fields.adoc[]

=== 식당별 장바구니 조회

`GET /api/v1/carts/stores/{storeId}`

특정 식당의 장바구니를 조회합니다.

==== 요청

include::{snippets}/cart-get-by-store-success/http-request.adoc[]

===== 경로 파라미터

include::{snippets}/cart-get-by-store-success/path-parameters.adoc[]

===== 요청 헤더

include::{snippets}/cart-get-by-store-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/cart-get-by-store-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/cart-get-by-store-success/response-fields.adoc[]

[[cart-update]]
== 장바구니 수정

=== 수량 변경

`PUT /api/v1/carts/items/{cartItemId}`

장바구니 항목의 수량을 변경합니다.

==== 요청

include::{snippets}/cart-update-item-quantity-success/http-request.adoc[]

===== 경로 파라미터

include::{snippets}/cart-update-item-quantity-success/path-parameters.adoc[]

===== 요청 헤더

include::{snippets}/cart-update-item-quantity-success/request-headers.adoc[]

===== 요청 필드

include::{snippets}/cart-update-item-quantity-success/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/cart-update-item-quantity-success/http-response.adoc[]

===== 응답 필드

include::{snippets}/cart-update-item-quantity-success/response-fields.adoc[]

[[cart-delete]]
== 장바구니 삭제

=== 항목 삭제

`DELETE /api/v1/carts/items/{cartItemId}`

장바구니에서 특정 항목을 삭제합니다.

==== 요청

include::{snippets}/cart-remove-item-success/http-request.adoc[]

===== 경로 파라미터

include::{snippets}/cart-remove-item-success/path-parameters.adoc[]

===== 요청 헤더

include::{snippets}/cart-remove-item-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/cart-remove-item-success/http-response.adoc[]

=== 전체 삭제

`DELETE /api/v1/carts`

장바구니를 전체 비웁니다.

==== 요청

include::{snippets}/cart-clear-success/http-request.adoc[]

===== 요청 헤더

include::{snippets}/cart-clear-success/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/cart-clear-success/http-response.adoc[]

[[map]]
= 지도 및 위치 (Map & Location)

주소 검색 및 좌표 변환 기능을 제공합니다.

== 인증 요구사항

모든 지도 API는 JWT 인증이 필요합니다.

[[map-geocoding]]
== 주소 검색 (Geocoding)

=== 주소 검색

`GET /api/v1/maps/search-address`

주소를 검색하여 좌표를 조회합니다.

==== 요청

include::{snippets}/map/search-address/http-request.adoc[]

===== 요청 파라미터

include::{snippets}/map/search-address/query-parameters.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/map/search-address/http-response.adoc[]

===== 응답 필드

include::{snippets}/map/search-address/response-fields.adoc[]

==== 에러 응답

===== 키워드 누락 (400 Bad Request)

include::{snippets}/map/search-address-fail-missing-keyword/http-response.adoc[]

include::{snippets}/map/search-address-fail-missing-keyword/response-fields.adoc[]

[[map-reverse-geocoding]]
== 좌표→주소 변환 (Reverse Geocoding)

=== 좌표로 주소 조회

`GET /api/v1/maps/reverse-geocode`

좌표를 주소로 변환합니다.

==== 요청

include::{snippets}/map/reverse-geocode/http-request.adoc[]

===== 요청 파라미터

include::{snippets}/map/reverse-geocode/query-parameters.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/map/reverse-geocode/http-response.adoc[]

===== 응답 필드

include::{snippets}/map/reverse-geocode/response-fields.adoc[]

==== 에러 응답

===== 유효하지 않은 좌표 (400 Bad Request)

include::{snippets}/map/reverse-geocode-fail-invalid-latitude/http-response.adoc[]

include::{snippets}/map/reverse-geocode-fail-invalid-latitude/response-fields.adoc[]

[[notification]]
= 알림 및 설정 (Notification & Settings)

알림 설정 및 앱 설정 관리 기능을 제공합니다.

== 인증 요구사항

모든 설정 API는 JWT 인증이 필요합니다.

[[notification-settings]]
== 알림 설정

=== 알림 설정 조회

`GET /api/v1/members/me/notification-settings`

현재 회원의 알림 설정을 조회합니다.

==== 요청

include::{snippets}/notification-settings/get/http-request.adoc[]

===== 요청 헤더

include::{snippets}/notification-settings/get/request-headers.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/notification-settings/get/http-response.adoc[]

===== 응답 필드

include::{snippets}/notification-settings/get/response-fields.adoc[]

=== 알림 설정 변경

`PUT /api/v1/members/me/notification-settings`

알림 설정을 변경합니다.

==== 요청

include::{snippets}/notification-settings/update/http-request.adoc[]

===== 요청 헤더

include::{snippets}/notification-settings/update/request-headers.adoc[]

===== 요청 필드

include::{snippets}/notification-settings/update/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/notification-settings/update/http-response.adoc[]

===== 응답 필드

include::{snippets}/notification-settings/update/response-fields.adoc[]

[[app-settings]]
== 앱 설정

=== 앱 설정 조회

`GET /api/v1/settings/app`

앱 설정을 조회합니다.

==== 요청

include::{snippets}/app-settings/get/http-request.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/app-settings/get/http-response.adoc[]

===== 응답 필드

include::{snippets}/app-settings/get/response-fields.adoc[]

=== 사용자 추적 설정

`PUT /api/v1/settings/app/tracking`

사용자 추적(분석) 설정을 변경합니다.

==== 요청

include::{snippets}/app-settings/update-tracking/http-request.adoc[]

===== 요청 헤더

include::{snippets}/app-settings/update-tracking/request-headers.adoc[]

===== 요청 필드

include::{snippets}/app-settings/update-tracking/request-fields.adoc[]

==== 성공 응답 (200 OK)

include::{snippets}/app-settings/update-tracking/http-response.adoc[]

===== 응답 필드

include::{snippets}/app-settings/update-tracking/response-fields.adoc[]
