# ğŸ½ï¸ SmartMealTable - ì•Œëœ°ì‹íƒ

![](images/full_logo.png)
> **"ëˆ„êµ¬ë‚˜ í•©ë¦¬ì ìœ¼ë¡œ ì‹ì‚¬í•˜ê³ , ì˜ˆì‚°ì„ ì§€í‚¤ë©°, ì·¨í–¥ì— ë§ëŠ” í•œ ë¼ë¥¼ ê³ ë¥¼ ìˆ˜ ìˆëŠ” ì„¸ìƒ"**

ì‹ë¹„ ì ˆê°ê³¼ ë§ì¶¤í˜• ì‹ì‚¬ ì¶”ì²œì„ ëª©í‘œë¡œ í•˜ëŠ” ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ **SpringBoot ë°±ì—”ë“œ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤.

---

## ğŸ“‹ ëª©ì°¨

- [ê°œìš”](#ê°œìš”)
- [ê¸°íš ë‚´ìš©](#ê¸°íš-ë‚´ìš©)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [ì•„í‚¤í…ì²˜](#ì•„í‚¤í…ì²˜)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •](#ë¡œì»¬-ê°œë°œ-í™˜ê²½-ì„¤ì •)
- [ë°°í¬ ê°€ì´ë“œ](#ë°°í¬-ê°€ì´ë“œ)
- [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
- [ê°œë°œ ì „ëµ](#ê°œë°œ-ì „ëµ)
- [ë¬¸ì„œ](#ë¬¸ì„œ)

---

## ê°œìš”

### í”„ë¡œì íŠ¸ ì •ë³´

| í•­ëª© | ì„¤ëª… |
|------|------|
| **í”„ë¡œì íŠ¸ëª…** | SmartMealTable (ì•Œëœ°ì‹íƒ) |
| **ë²„ì „** | v1.1 |
| **Java** | 21 |
| **Spring Boot** | 3.4.10 |
| **ë¹Œë“œ ë„êµ¬** | Gradle |
| **ì£¼ìš” DB** | MySQL, Redis |

### í”„ë¡œì íŠ¸ ëª©í‘œ

- ğŸ¯ ì‚¬ìš©ìì˜ **ì‹ë¹„ íš¨ìœ¨ ê´€ë¦¬**
- ğŸœ **ê°œì¸ ë§ì¶¤í˜• ìŒì‹ì ** ë° ìŒì‹ ì¶”ì²œ
- ğŸ“Š **ì†Œë¹„ íŒ¨í„´ ë¶„ì„** ë° ì˜ˆì‚° ê´€ë¦¬
- ğŸŒ **ìœ„ì¹˜ ê¸°ë°˜ ì¶”ì²œ** ì„œë¹„ìŠ¤

---

## ê¸°íš ë‚´ìš©

### í•µì‹¬ ê°€ì¹˜

| êµ¬ë¶„ | ë‚´ìš© |
|------|------|
| **í•µì‹¬ ëª©í‘œ** | ì‚¬ìš©ìì˜ ì‹ë¹„ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ê°œì¸ ë§ì¶¤í˜• ì‹ë‹¨ ë° ìŒì‹ì  ì¶”ì²œ |
| **ë¶€ê°€ ëª©í‘œ** | ì‚¬ìš©ìì˜ ì†Œë¹„ ìŠµê´€ ê°œì„  ë° ìŒì‹ ë‚­ë¹„ ê°ì†Œ ê¸°ì—¬ |
| **ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œ** | ì§€ì†ì  ì‚¬ìš©ì í™•ë³´ ë° ë°ì´í„° ê¸°ë°˜ ì¶”ì²œ ì„œë¹„ìŠ¤ í™•ì¥ |

### ì£¼ìš” ê¸°ëŠ¥

1. **ì‚¬ìš©ì ì¸ì¦ (Auth)**
   - ì´ë©”ì¼, ì¹´ì¹´ì˜¤, êµ¬ê¸€ ì†Œì…œ ë¡œê·¸ì¸
   - JWT ê¸°ë°˜ STATELESS ì¸ì¦
   - ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” ì €ì¥

2. **ì˜¨ë³´ë”© (Onboarding)**
   - ë‹‰ë„¤ì„, ì†Œì†, ì£¼ì†Œ, ì˜ˆì‚°, ì·¨í–¥ ì„¤ì •
   - ê°œì¸ ë§ì¶¤í˜• ì´ˆê¸° ì„¤ì •

3. **ì˜ˆì‚° ê´€ë¦¬ (Budget)**
   - ì¼/ì›”ë³„ ì‹ë¹„ ì˜ˆì‚° ì„¤ì •
   - ì§€ì¶œ ë‚´ì—­ ì‹œê°í™”

4. **ì·¨í–¥ ê¸°ë°˜ ì¶”ì²œ (Recommendation)**
   - ì„ í˜¸/ë¶ˆí˜¸ ìŒì‹ ë°ì´í„° ê¸°ë°˜ ì¶”ì²œ
   - AI ì¶”ì²œ ì—”ì§„ (Spring AI í™œìš©)

5. **ì£¼ì†Œ ê´€ë¦¬ (Address)**
   - ì§‘, ì§ì¥ ë“± ë‹¤ì¤‘ ì£¼ì†Œ ê´€ë¦¬
   - ìƒí™œ ë°˜ê²½ ê¸°ë°˜ ìŒì‹ì  íƒìƒ‰

6. **ì§€ì¶œ ë‚´ì—­ íŒŒì‹±**
   - ì‹ ìš©ì¹´ë“œ ë©”ì‹œì§€ ìë™ íŒŒì‹±
   - ì§€ì¶œ ë‚´ì—­ ìë™ ë“±ë¡

### ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤

#### ì‹ ê·œ ì‚¬ìš©ì
```
1. ì•± ì‹¤í–‰ â†’ ìŠ¤í”Œë˜ì‹œ í™”ë©´
2. ë¡œê·¸ì¸ ì„ íƒ (ì´ë©”ì¼ / ì¹´ì¹´ì˜¤ / êµ¬ê¸€)
3. ì˜¨ë³´ë”© ì ˆì°¨ (í”„ë¡œí•„ â†’ ì£¼ì†Œ â†’ ì˜ˆì‚° â†’ ì·¨í–¥ â†’ ì•½ê´€)
4. ë©”ì¸ í™”ë©´ ì§„ì… â†’ ì˜ˆì‚° ëŒ€ì‹œë³´ë“œ ë° ì¶”ì²œ í™•ì¸
```

#### ê¸°ì¡´ ì‚¬ìš©ì
```
1. ë¡œê·¸ì¸ â†’ ë©”ì¸ í™”ë©´
2. ì¼ì¼ ì‹ë¹„ í™•ì¸ ë° ë‚¨ì€ ì˜ˆì‚° ì‹œê°í™”
3. ì£¼ë³€ ì¶”ì²œ ì‹ë‹¹ í™•ì¸ ë° ë°©ë¬¸
4. ì§€ì¶œ ë‚´ì—­ ë“±ë¡ì„ í†µí•´ ì·¨í–¥ ë°ì´í„° ì—…ë°ì´íŠ¸
```

### í•µì‹¬ ì„±ê³¼ ì§€í‘œ (KPI)

| ì§€í‘œ | ëª©í‘œ | ì„¤ëª… |
|------|------|------|
| **ì‹ ê·œ ì‚¬ìš©ì ì˜¨ë³´ë”© ì™„ë£Œìœ¨** | â‰¥ 80% | ë¡œê·¸ì¸ í›„ ì˜¨ë³´ë”© ì ˆì°¨ ì™„ë£Œ ë¹„ìœ¨ |
| **ì¼ê°„ í™œì„± ì‚¬ìš©ì ìˆ˜ (DAU)** | 1,000ëª…+ | ì´ˆê¸° 3ê°œì›” ë‚´ ëª©í‘œ |
| **í‰ê·  ì˜ˆì‚° ìœ ì§€ìœ¨** | â‰¥ 70% | ì‚¬ìš©ìê°€ ì„¤ì •í•œ ì˜ˆì‚° ë²”ìœ„ ë‚´ ì§€ì¶œ ë¹„ìœ¨ |
| **ì¶”ì²œ í´ë¦­ë¥  (CTR)** | â‰¥ 20% | ì¶”ì²œëœ ì‹ë‹¹/ìŒì‹ í´ë¦­ ë¹„ìœ¨ |

---

## ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Java** 21
- **Spring Boot** 3.4.10
- **Spring MVC** (REST API)
- **Spring Data JPA** + **QueryDSL**
- **Spring AI** (ì§€ì¶œ ë‚´ì—­ íŒŒì‹±, ì¶”ì²œ ì—”ì§„)
- **Spring Batch** (ë°°ì¹˜ ì‘ì—…)
- **Spring Rest Docs** (API ë¬¸ì„œí™”)

### Database & Cache
- **MySQL** 8.0 (Primary DB)
- **Redis** 7 (ìºì‹±)

### External API
- **Naver Map API** (ì§€ì˜¤ì½”ë”©, ì£¼ì†Œ ê²€ìƒ‰)
- **Naver Clova OCR** (ì˜ìˆ˜ì¦ ì¸ì‹)
- **Kakao/Google OAuth** (ì†Œì…œ ë¡œê·¸ì¸)

### Testing & Quality
- **JUnit 5** (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)
- **Mockito** (ëª¨í‚¹)
- **TestContainers** (í†µí•© í…ŒìŠ¤íŠ¸)
- **Spring Rest Docs** (API í…ŒìŠ¤íŠ¸ ë¬¸ì„œí™”)

### DevOps & Infrastructure
- **Docker** & **Docker Compose**
- **Terraform** (IaC)
- **GitHub Actions** (CI/CD)
- **AWS EC2** (ë°°í¬)

### Logging & Monitoring
- **Logback** (ë¡œê¹…)
- **Micrometer** (ë©”íŠ¸ë¦­)

### Utilities
- **Lombok** (Boilerplate ì œê±°)
- **Gradle** (ë¹Œë“œ ë„êµ¬)

---

## ì•„í‚¤í…ì²˜

### ê³„ì¸µ êµ¬ì¡° (Layered Architecture)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Presentation Layer (API)          â”‚
â”‚  - Controllers                          â”‚
â”‚  - Exception Handlers                   â”‚
â”‚  - Interceptors                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Application Layer (Service)         â”‚
â”‚  - Application Services (Use Cases)     â”‚
â”‚  - DTO Mapping                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Domain Layer (Business Logic)     â”‚
â”‚  - Domain Entities                      â”‚
â”‚  - Domain Services                      â”‚
â”‚  - Repository Interfaces                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Persistence Layer (Infrastructure)â”‚
â”‚  - JPA Entities                         â”‚
â”‚  - Repository Implementations           â”‚
â”‚  - Database Configuration               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë©€í‹° ëª¨ë“ˆ êµ¬ì¡°

```
smartmealtable/
â”œâ”€â”€ smartmealtable-api              # ë©”ì¸ API ì„œë²„
â”œâ”€â”€ smartmealtable-admin            # ì–´ë“œë¯¼ ì„œë²„
â”œâ”€â”€ smartmealtable-domain           # ë„ë©”ì¸ ë¡œì§
â”œâ”€â”€ smartmealtable-storage/
â”‚   â”œâ”€â”€ db                          # JPA, Repository êµ¬í˜„
â”‚   â””â”€â”€ cache                       # Redis ìºì‹±
â”œâ”€â”€ smartmealtable-client/
â”‚   â”œâ”€â”€ auth                        # ì¸ì¦ í´ë¼ì´ì–¸íŠ¸
â”‚   â””â”€â”€ external                    # ì™¸ë¶€ API í´ë¼ì´ì–¸íŠ¸
â”œâ”€â”€ smartmealtable-batch/
â”‚   â””â”€â”€ crawler                     # ë°°ì¹˜/í¬ë¡¤ëŸ¬ ì‘ì—…
â”œâ”€â”€ smartmealtable-scheduler        # ìŠ¤ì¼€ì¤„ë§ ì‘ì—…
â”œâ”€â”€ smartmealtable-recommendation   # ì¶”ì²œ ì—”ì§„
â”œâ”€â”€ smartmealtable-core             # ê³µí†µ ì‘ë‹µ, ì˜ˆì™¸, AOP
â”œâ”€â”€ smartmealtable-support/
â”‚   â”œâ”€â”€ logging                     # ë¡œê¹… ìœ í‹¸
â”‚   â””â”€â”€ monitoring                  # ëª¨ë‹ˆí„°ë§ ìœ í‹¸
â””â”€â”€ smartmealtable-performance      # ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
```

### ê° ëª¨ë“ˆì˜ ì—­í• 

| ëª¨ë“ˆ | ì„¤ëª… | ì˜ì¡´ì„± |
|------|------|--------|
| **api** | ë©”ì¸ API ì„œë²„, ì‚¬ìš©ì ì•± ì—°ë™ | domain, storage, client, core |
| **admin** | ì–´ë“œë¯¼ ê´€ë¦¬ API | domain, storage, client, core |
| **domain** | ë„ë©”ì¸ ì—”í‹°í‹°, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ | (Spring Bean Containerë§Œ í—ˆìš©) |
| **storage** | JPA êµ¬í˜„, Repository, DB ì„¤ì • | domain |
| **client** | ì™¸ë¶€ API í´ë¼ì´ì–¸íŠ¸ (Naver, Kakao ë“±) | core |
| **core** | ApiResponse, ErrorResult, AOP | (ì˜ì¡´ì„± ìµœì†Œí™”) |
| **batch** | ë°°ì¹˜ ì‘ì—…, ë°ì´í„° í¬ë¡¤ë§ | domain, storage, client |
| **scheduler** | ìŠ¤ì¼€ì¤„ë§ ì‘ì—… | domain, storage |
| **recommendation** | ì¶”ì²œ ì—”ì§„ | domain, storage |
| **support** | ë¡œê¹…, ëª¨ë‹ˆí„°ë§ ìœ í‹¸ | (ì• í”Œë¦¬ì¼€ì´ì…˜ ë…ë¦½ì ) |

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
.
â”œâ”€â”€ docs/                           # ë¬¸ì„œ
â”‚   â”œâ”€â”€ API_SPECIFICATION.md        # API ëª…ì„¸ì„œ
â”‚   â”œâ”€â”€ ADMIN_API_SPECIFICATION.md  # ì–´ë“œë¯¼ API ëª…ì„¸ì„œ
â”‚   â”œâ”€â”€ DEPLOYMENT_GUIDE.md         # ë°°í¬ ê°€ì´ë“œ
â”‚   â”œâ”€â”€ plan/
â”‚   â”‚   â”œâ”€â”€ SRS.md                  # ì†Œí”„íŠ¸ì›¨ì–´ ìš”êµ¬ì‚¬í•­ ëª…ì„¸
â”‚   â”‚   â””â”€â”€ PRD.md                  # ì œí’ˆ ìš”êµ¬ì‚¬í•­ ë¬¸ì„œ
â”‚   â””â”€â”€ ...
â”œâ”€â”€ smartmealtable-api/             # ë©”ì¸ API ì„œë²„
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â”œâ”€â”€ src/test/java/
â”‚   â”œâ”€â”€ build/generated-snippets/   # REST Docs ìŠ¤ë‹ˆí«
â”‚   â””â”€â”€ build.gradle
â”œâ”€â”€ smartmealtable-admin/           # ì–´ë“œë¯¼ ì„œë²„
â”œâ”€â”€ smartmealtable-domain/          # ë„ë©”ì¸ ë¡œì§
â”œâ”€â”€ smartmealtable-storage/         # ì €ì¥ì†Œ (DB, Cache)
â”œâ”€â”€ smartmealtable-client/          # í´ë¼ì´ì–¸íŠ¸ (ì™¸ë¶€ API)
â”œâ”€â”€ smartmealtable-core/            # ê³µí†µ ì½”ë“œ
â”œâ”€â”€ smartmealtable-batch/           # ë°°ì¹˜ ì‘ì—…
â”œâ”€â”€ smartmealtable-scheduler/       # ìŠ¤ì¼€ì¤„ë§
â”œâ”€â”€ smartmealtable-recommendation/  # ì¶”ì²œ ì—”ì§„
â”œâ”€â”€ smartmealtable-support/         # ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ docker-compose.local.yml        # ë¡œì»¬ ê°œë°œ Docker Compose
â”œâ”€â”€ docker-compose.api.yml          # API ì„œë²„ Docker Compose
â”œâ”€â”€ docker-compose.admin.yml        # ì–´ë“œë¯¼ ì„œë²„ Docker Compose
â”œâ”€â”€ docker-compose.batch.yml        # ë°°ì¹˜ ì„œë²„ Docker Compose
â”œâ”€â”€ Dockerfile                      # ê¸°ë³¸ Dockerfile
â”œâ”€â”€ Dockerfile.api                  # API ì„œë²„ Dockerfile
â”œâ”€â”€ Dockerfile.admin                # ì–´ë“œë¯¼ Dockerfile
â”œâ”€â”€ build.gradle                    # Root Gradle ì„¤ì •
â”œâ”€â”€ settings.gradle                 # ëª¨ë“ˆ ì„¤ì •
â”œâ”€â”€ local-dev.sh                    # ë¡œì»¬ ê°œë°œ í™˜ê²½ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ deploy-all.sh                   # ì „ì²´ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ deploy-api.sh                   # API ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ deploy-admin.sh                 # ì–´ë“œë¯¼ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ deploy-docs.sh                  # ë¬¸ì„œ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ ddl.sql                         # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ dml.sql                         # ì´ˆê¸° ë°ì´í„°
â””â”€â”€ main.tf                         # Terraform ì„¤ì •

```

---

## ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

### í•„ìˆ˜ ì‚¬í•­

- **Java 21** ì´ìƒ
- **Docker** & **Docker Compose**
- **Gradle** 8.0 ì´ìƒ (wrapper í¬í•¨)
- **Git**

### 1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ
cp .env.example .env
```

`.env` íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ í•„ìˆ˜ ì„¤ì •ê°’ ì…ë ¥:

```env
# Database
DB_HOST=localhost
DB_PORT=3306
DB_NAME=smartmealtable
DB_USER=smartmeal_user
DB_PASSWORD=smartmeal123

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379

# External APIs
NAVER_MAP_CLIENT_ID=your_naver_map_client_id
NAVER_MAP_CLIENT_SECRET=your_naver_map_client_secret
NAVER_OAUTH_CLIENT_ID=your_naver_oauth_client_id
NAVER_OAUTH_CLIENT_SECRET=your_naver_oauth_client_secret
GOOGLE_OAUTH_CLIENT_ID=your_google_client_id
GOOGLE_OAUTH_CLIENT_SECRET=your_google_client_secret
KAKAO_OAUTH_CLIENT_ID=your_kakao_client_id

# JWT
JWT_SECRET_KEY=your_jwt_secret_key_at_least_256_bits_long
JWT_EXPIRATION_MS=3600000
```

### 2. Docker ì»¨í…Œì´ë„ˆ ì‹¤í–‰

```bash
# ë¡œì»¬ ê°œë°œ í™˜ê²½ (MySQL + Redis + ì• í”Œë¦¬ì¼€ì´ì…˜)
docker-compose -f docker-compose.local.yml up -d

# ìƒíƒœ í™•ì¸
docker-compose -f docker-compose.local.yml ps
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”

```bash
# MySQL ì»¨í…Œì´ë„ˆ ì ‘ì†
docker exec -it smartmealtable-mysql mysql -uroot -proot123 smartmealtable

# ë˜ëŠ” ì§ì ‘ SQL íŒŒì¼ ì‹¤í–‰
mysql -h localhost -u smartmeal_user -psmartmeal123 smartmealtable < ddl.sql
mysql -h localhost -u smartmeal_user -psmartmeal123 smartmealtable < dml.sql
```

### 4. í”„ë¡œì íŠ¸ ë¹Œë“œ ë° ì‹¤í–‰

```bash
# ì „ì²´ í”„ë¡œì íŠ¸ ë¹Œë“œ
./gradlew clean build

# API ì„œë²„ ì‹¤í–‰
./gradlew :smartmealtable-api:bootRun

# ì–´ë“œë¯¼ ì„œë²„ ì‹¤í–‰
./gradlew :smartmealtable-admin:bootRun

# íŠ¹ì • ëª¨ë“ˆë§Œ ë¹Œë“œ
./gradlew :smartmealtable-api:build
```

### 5. ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ê·¼

```
API ì„œë²„: http://localhost:8080
ì–´ë“œë¯¼ ì„œë²„: http://localhost:8081
Redis: localhost:6379
MySQL: localhost:3306
```

### ìë™ ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

í¸ì˜ë¥¼ ìœ„í•´ ì œê³µë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©:

```bash
chmod +x local-dev.sh
./local-dev.sh
```

ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ìŒì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:
- Docker Compose ì‹¤í–‰
- ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
- í”„ë¡œì íŠ¸ ë¹Œë“œ

---

## ë°°í¬ ê°€ì´ë“œ

### 1. ê°œë°œ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew test

# íŠ¹ì • ëª¨ë“ˆ í…ŒìŠ¤íŠ¸
./gradlew :smartmealtable-api:test

# í†µí•© í…ŒìŠ¤íŠ¸ (TestContainers ì‚¬ìš©)
./gradlew :smartmealtable-api:integrationTest
```

### 2. REST Docs ë¬¸ì„œ ìƒì„±

```bash
# ëª¨ë“  RestDocsTest ì‹¤í–‰ ë° ë¬¸ì„œ ìƒì„±
./deploy-docs.sh

# íŠ¹ì • í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
./deploy-docs.sh --test-filter 'AuthControllerRestDocsTest'

# Git ë³€ê²½ì‚¬í•­ ê¸°ë°˜ ìë™ ê°ì§€
./deploy-docs.sh --auto-detect

# ìˆ˜ìš© ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ëª©ë¡ í™•ì¸
./deploy-docs.sh --list-tests
```

ìƒì„±ëœ ë¬¸ì„œ: `smartmealtable-api/build/resources/main/static/index.html`

### 3. Docker ì´ë¯¸ì§€ ë¹Œë“œ

```bash
# API ì„œë²„ ì´ë¯¸ì§€ ë¹Œë“œ
docker build -f Dockerfile.api -t smartmealtable-api:latest .

# ì–´ë“œë¯¼ ì„œë²„ ì´ë¯¸ì§€ ë¹Œë“œ
docker build -f Dockerfile.admin -t smartmealtable-admin:latest .

# ëª¨ë“  ì´ë¯¸ì§€ ë¹Œë“œ
./deploy-all.sh
```

### 4. Docker Composeë¥¼ í†µí•œ ìŠ¤í…Œì´ì§• ë°°í¬

```bash
# API ì„œë²„
docker-compose -f docker-compose.api.yml up -d

# ì–´ë“œë¯¼ ì„œë²„
docker-compose -f docker-compose.admin.yml up -d

# ë°°ì¹˜ ì„œë²„
docker-compose -f docker-compose.batch.yml up -d

# ëª¨ë“  ì„œë²„
docker-compose -f docker-compose.yml up -d
```

### 5. í´ë¼ìš°ë“œ ë°°í¬ (AWS EC2)

#### 5.1 Terraformì„ í†µí•œ ì¸í”„ë¼ ë°°í¬

```bash
# Terraform ì´ˆê¸°í™”
terraform init

# ë°°í¬ ê³„íš í™•ì¸
terraform plan -var-file=terraform.tfvars

# ë°°í¬ ì‹¤í–‰
terraform apply -var-file=terraform.tfvars

# ë°°í¬ ìƒíƒœ í™•ì¸
terraform show
```

#### 5.2 ìˆ˜ë™ ë°°í¬ (EC2 ì¸ìŠ¤í„´ìŠ¤)

```bash
# 1. EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†
ssh -i smartmealtable-key.pem ec2-user@your-ec2-ip

# 2. ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/your-repo/smartmealtable.git
cd smartmealtable

# 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
sudo nano .env
# í•„ìˆ˜ ê°’ ì…ë ¥ í›„ ì €ì¥

# 4. Docker ë° Docker Compose ì„¤ì¹˜
sudo yum update -y
sudo amazon-linux-extras install docker -y
sudo service docker start
sudo usermod -a -G docker ec2-user
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# 5. ì„œë¹„ìŠ¤ ì‹œì‘
docker-compose -f docker-compose.yml up -d

# 6. ë¡œê·¸ í™•ì¸
docker-compose logs -f
```

### 6. CI/CD íŒŒì´í”„ë¼ì¸ (GitHub Actions)

í”„ë¡œì íŠ¸ëŠ” GitHub Actions ê¸°ë°˜ ìë™ ë°°í¬ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

**íŠ¸ë¦¬ê±°:**
- `main` ë¸Œëœì¹˜ì— Push
- Pull Request ìƒì„±

**ì‘ì—… íë¦„:**
1. ì½”ë“œ ì²´í¬ì•„ì›ƒ
2. Java 21 ì„¤ì •
3. Gradle ë¹Œë“œ
4. TestContainers í…ŒìŠ¤íŠ¸ ì‹¤í–‰
5. Docker ì´ë¯¸ì§€ ë¹Œë“œ ë° í‘¸ì‹œ
6. í´ë¼ìš°ë“œ ë°°í¬

**ì„¤ì • íŒŒì¼:** `.github/workflows/deploy.yml`

### 7. ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

#### ë¡œê·¸ í™•ì¸

```bash
# Docker Compose ì„œë¹„ìŠ¤ ë¡œê·¸
docker-compose logs -f api

# íŠ¹ì • ì»¨í…Œì´ë„ˆ ë¡œê·¸
docker logs -f smartmealtable-api

# ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜ (ì»¨í…Œì´ë„ˆ ë‚´ë¶€)
/logs/application.log
```

#### í—¬ìŠ¤ ì²´í¬

```bash
# API í—¬ìŠ¤ ì²´í¬
curl http://localhost:8080/actuator/health

# ìƒì„¸ ë©”íŠ¸ë¦­
curl http://localhost:8080/actuator/metrics
```

#### ë©”íŠ¸ë¦­ í™•ì¸

```bash
# JVM ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
curl http://localhost:8080/actuator/metrics/jvm.memory.used

# HTTP ìš”ì²­ ì¹´ìš´íŠ¸
curl http://localhost:8080/actuator/metrics/http.server.requests
```

### 8. ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…

```bash
# MySQL ë°±ì—…
docker exec smartmealtable-mysql mysqldump -uroot -proot123 smartmealtable > backup_$(date +%Y%m%d_%H%M%S).sql

# ë°±ì—… ë³µì›
mysql -h localhost -u smartmeal_user -psmartmeal123 smartmealtable < backup_20231115_120000.sql
```

### 9. ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì • í™•ì¸
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸
- [ ] API ë¬¸ì„œ ìµœì‹  ìƒíƒœ í™•ì¸
- [ ] Docker ì´ë¯¸ì§€ ë¹Œë“œ ì„±ê³µ
- [ ] í—¬ìŠ¤ ì²´í¬ í†µê³¼
- [ ] ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ ê°€ëŠ¥
- [ ] ë¡¤ë°± ê³„íš ìˆ˜ë¦½

---

## ì£¼ìš” ê¸°ëŠ¥

### ì¸ì¦ (Authentication)

```bash
# íšŒì›ê°€ì… (ì´ë©”ì¼)
curl -X POST http://localhost:8080/api/v1/auth/signup/email \
  -H "Content-Type: application/json" \
  -d '{
    "email": "user@example.com",
    "password": "password123",
    "nickname": "nickname"
  }'

# ë¡œê·¸ì¸
curl -X POST http://localhost:8080/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "user@example.com",
    "password": "password123"
  }'
```

### ì˜¨ë³´ë”© (Onboarding)

```bash
# ì˜¨ë³´ë”© ì •ë³´ ì €ì¥
curl -X POST http://localhost:8080/api/v1/onboarding \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "nickname": "nickname",
    "address": "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬",
    "monthlyBudget": 500000,
    "foodPreferences": ["í•œì‹", "ì¼ì‹"]
  }'
```

### ì˜ˆì‚° ê´€ë¦¬ (Budget)

```bash
# ì˜ˆì‚° ì¡°íšŒ
curl -X GET http://localhost:8080/api/v1/budgets \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"

# ì¼ì¼ ì§€ì¶œ ì¡°íšŒ
curl -X GET http://localhost:8080/api/v1/expenditures/daily \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

### ì¶”ì²œ (Recommendation)

```bash
# ìŒì‹ì  ì¶”ì²œ
curl -X GET http://localhost:8080/api/v1/recommendations/stores \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"

# ìŒì‹ ì¶”ì²œ
curl -X GET http://localhost:8080/api/v1/recommendations/foods \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

---

## ê°œë°œ ì „ëµ

### TDD (Test-Driven Development)

ëª¨ë“  ê¸°ëŠ¥ì€ RED-GREEN-REFACTORING ì‚¬ì´í´ì„ ë”°ë¦…ë‹ˆë‹¤:

1. **RED**: ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„±
2. **GREEN**: í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼ì‹œí‚¤ëŠ” ìµœì†Œí•œì˜ ì½”ë“œ ì‘ì„±
3. **REFACTORING**: ì½”ë“œ ê°œì„  ë° ìµœì í™”

### í…ŒìŠ¤íŠ¸ ì „ëµ

- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: ê° ì»´í¬ë„ŒíŠ¸ì˜ ë…ë¦½ì  í…ŒìŠ¤íŠ¸
- **í†µí•© í…ŒìŠ¤íŠ¸**: TestContainersë¥¼ ì‚¬ìš©í•œ DB í†µí•© í…ŒìŠ¤íŠ¸
- **API í…ŒìŠ¤íŠ¸**: Spring REST Docsë¥¼ í†µí•œ API í…ŒìŠ¤íŠ¸ ë° ë¬¸ì„œí™”
- **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**: JMeterë¥¼ í†µí•œ ë¶€í•˜ í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ ì‘ì„± ì›ì¹™

- âœ… ê° í…ŒìŠ¤íŠ¸ì˜ ë…ë¦½ì„± ë³´ì¥
- âœ… í•´í”¼ íŒ¨ìŠ¤ì™€ ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤ ëª¨ë‘ í…ŒìŠ¤íŠ¸
- âœ… ëª¨ë“  HTTP ìƒíƒœì½”ë“œë³„ í…ŒìŠ¤íŠ¸ (200, 400, 404, 422, 500 ë“±)
- âœ… êµ¬ì²´ì ì¸ ì—ëŸ¬ ë©”ì‹œì§€ ê²€ì¦
- âœ… ì—£ì§€ ì¼€ì´ìŠ¤ì™€ ê²½ê³„ê°’ í…ŒìŠ¤íŠ¸ í¬í•¨
- âœ… TestContainers ì‚¬ìš© (H2ë‚˜ ë¡œì»¬ Docker MySQL ì‚¬ìš© ê¸ˆì§€)

### ì½”ë“œ ì»¨ë²¤ì…˜

#### DTO ì‘ëª…

- `XxxServiceRequest`: Controller â†’ Application Service
- `XxxServiceResponse`: Application Service â†’ Controller
- `XxxControllerRequest`: í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ DTO
- `XxxControllerResponse`: í´ë¼ì´ì–¸íŠ¸ ì‘ë‹µ DTO

#### Annotation ì‚¬ìš©

- âŒ `@Setter`, `@Data` ì‚¬ìš© ê¸ˆì§€ (DTO ì œì™¸)
- âœ… `@Getter`, `@NoArgsConstructor`, `@RequiredArgsConstructor` ì‚¬ìš©
- âœ… ë¶ˆë³€ì„± ìœ ì§€

#### JPA ì—°ê´€ê´€ê³„

- âŒ ë‹¤ë¥¸ Aggregateì˜ ì—°ê´€ê´€ê³„ ë§¤í•‘ ê¸ˆì§€
- âœ… FK ê°’ì„ í•„ë“œë¡œ ì‚¬ìš©
- âŒ ë¬¼ë¦¬ FK ì œì•½ì¡°ê±´ ì‚¬ìš© ê¸ˆì§€ (ë…¼ë¦¬ FKë§Œ ì‚¬ìš©)

#### ì¿¼ë¦¬ ë©”ì„œë“œ

- ì§§ì€ ì¿¼ë¦¬: `findBy...`
- ë³µì¡í•œ ì¿¼ë¦¬: QueryDSL ì‚¬ìš©

### API ëª…ì„¸

- URI: `/api/v1/...` í˜•ì‹
- ì‘ë‹µ: `ApiResponse<T>` ê°ì²´ ì‚¬ìš©
- ì—ëŸ¬: `ErrorResult` ê°ì²´ ì‚¬ìš©
- í† í°: JWT ë°©ì‹ (ArgumentResolverë¡œ íŒŒì‹±)

---

## ë¬¸ì„œ

### ê¸°íš ë¬¸ì„œ

- ğŸ“„ [ì œí’ˆ ìš”êµ¬ì‚¬í•­ ë¬¸ì„œ (PRD)](./docs/plan/PRD.md) - ì œí’ˆ ë¹„ì „ ë° ìš”êµ¬ì‚¬í•­
- ğŸ“„ [ì†Œí”„íŠ¸ì›¨ì–´ ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ (SRS)](./docs/plan/SRS.md) - ìƒì„¸ ê¸°ìˆ  ìš”êµ¬ì‚¬í•­

### API ëª…ì„¸ì„œ

- ğŸ“‹ [ì‚¬ìš©ì API ëª…ì„¸](./docs/API_SPECIFICATION.md)
- ğŸ“‹ [ì–´ë“œë¯¼ API ëª…ì„¸](./docs/ADMIN_API_SPECIFICATION.md)
- ğŸ“– [API ìë™ ìƒì„± ë¬¸ì„œ](./smartmealtable-api/build/resources/main/static/index.html) (REST Docs)

### ë°°í¬ ë° ìš´ì˜

- ğŸš€ [ë°°í¬ ê°€ì´ë“œ](./docs/DEPLOY_DOCS_GUIDE.md)
- â˜ï¸ [Terraform ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸](./TERRAFORM_DEPLOYMENT_CHECKLIST.md)
- ğŸ“ [ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •](./local-dev.sh)

### ì•„í‚¤í…ì²˜ ë° ì„¤ê³„

- ğŸ—ï¸ [ë©€í‹° ëª¨ë“ˆ Layered Architecture](./docs/)
- ğŸ”„ [Spring Boot 3 ë§ˆì´ê·¸ë ˆì´ì…˜ ì •ë³´](./docs/plan/SRS.md#ê¸°ìˆ -ìŠ¤íƒ)

### ê°œë°œ ê°€ì´ë“œ

- ğŸ‘¨â€ğŸ’» [Copilot ê°œë°œ ì§€ì¹¨](./.github/copilot-instructions.md)

---

## ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ë²„ì „

### Spring Framework
- Spring Boot: 3.4.10
- Spring Data JPA: 3.4.10
- Spring Data Redis: 3.4.10
- Spring Rest Docs: 3.0.0

### Database & ORM
- MySQL Driver: 8.0.36
- JPA Hibernate: 6.5.3
- QueryDSL JPA: 5.0.0

### External Services
- Spring AI (Vertex AI Gemini): 1.0.2
- Naver Map API: REST API
- Spring Social: OAuth 2.0

### Testing
- JUnit 5: 5.10.2
- Mockito: 5.8.0
- TestContainers: 1.19.8
- AssertJ: 3.25.3

### Utilities
- Lombok: 1.18.30
- Jackson: 2.17.2

---

## ë¬¸ì œ í•´ê²° (Troubleshooting)

### Docker ê´€ë ¨

```bash
# Docker ë°ëª¬ì´ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
docker ps

# Docker Compose ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
docker-compose -f docker-compose.local.yml ps

# ì»¨í…Œì´ë„ˆ ë¡œê·¸ í™•ì¸
docker logs -f smartmealtable-api
```

### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜

```bash
# MySQL ì ‘ì† í™•ì¸
mysql -h localhost -u smartmeal_user -psmartmeal123 -e "SELECT 1"

# í¬íŠ¸ í™•ì¸
lsof -i :3306

# MySQL ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
docker-compose -f docker-compose.local.yml restart mysql
```

### í¬íŠ¸ ì¶©ëŒ

```bash
# í¬íŠ¸ ì‚¬ìš© ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸
lsof -i :8080
lsof -i :3306
lsof -i :6379

# í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
kill -9 <PID>
```

### ë¹Œë“œ ì˜¤ë¥˜

```bash
# Gradle ìºì‹œ ì œê±°
./gradlew clean

# ì „ì²´ ë¹Œë“œ ë‹¤ì‹œ ì‹¤í–‰
./gradlew build -x test

# íŠ¹ì • ëª¨ë“ˆë§Œ ë¹Œë“œ
./gradlew :smartmealtable-api:build
```

---

## ê¸°ì—¬ ê°€ì´ë“œ

### ë¸Œëœì¹˜ ì „ëµ (Git Flow)

```
main (í”„ë¡œë•ì…˜)
â”œâ”€â”€ develop (ê°œë°œ)
â”‚   â”œâ”€â”€ feature/ê¸°ëŠ¥ëª…
â”‚   â”œâ”€â”€ bugfix/ë²„ê·¸ëª…
â”‚   â””â”€â”€ hotfix/ê¸´ê¸‰ìˆ˜ì •
```

### ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜

```
[íƒ€ì…] ì œëª©

ë³¸ë¬¸ (ì„ íƒì‚¬í•­)

í‘¸í„° (ì„ íƒì‚¬í•­)
```

**íƒ€ì…:**
- `feat`: ìƒˆë¡œìš´ ê¸°ëŠ¥
- `fix`: ë²„ê·¸ ìˆ˜ì •
- `refactor`: ì½”ë“œ ë¦¬íŒ©í† ë§
- `test`: í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì •
- `docs`: ë¬¸ì„œ ìˆ˜ì •
- `chore`: ë¹Œë“œ, ì˜ì¡´ì„± ë“±

### í’€ ë¦¬í€˜ìŠ¤íŠ¸ í”„ë¡œì„¸ìŠ¤

1. Fork ì €ì¥ì†Œ í´ë¡ 
2. Feature ë¸Œëœì¹˜ ìƒì„± (`git checkout -b feature/ìƒˆê¸°ëŠ¥`)
3. ì½”ë“œ ì‘ì„± ë° í…ŒìŠ¤íŠ¸
4. ì»¤ë°‹ ë° Push
5. Pull Request ì‘ì„±
6. ì½”ë“œ ë¦¬ë·°
7. Merge

---

## ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” [MIT ë¼ì´ì„ ìŠ¤](./LICENSE)ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

---

## ì—°ë½ì²˜ ë° ì§€ì›

- ğŸ“§ Email: ferrater1013@gmail.com
- ğŸ™ GitHub: [SmartMealTable Repository](https://github.com/Picance)
- ğŸ“± í”„ë¡œì íŠ¸ ì›¹ì‚¬ì´íŠ¸: [ì„œë¹„ìŠ¤ ë°°í¬ ì‚¬ì´íŠ¸](https://smartmealtable.netlify.app)

---

## ë³€ê²½ ì´ë ¥

### v1.1 (2025-11-23)
- ë©€í‹° ëª¨ë“ˆ ì•„í‚¤í…ì²˜ êµ¬í˜„
- Spring Boot 3.4.10 ì—…ê·¸ë ˆì´ë“œ
- REST Docs ìë™ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
- Docker ë° Terraform ì„¤ì • ì™„ì„±

### v1.0 (2025-10-07)
- ì´ˆê¸° í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ì •
- ê¸°ë³¸ API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
- ì˜¨ë³´ë”© ê¸°ëŠ¥ êµ¬í˜„

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:** 2025-11-23

